(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"+GUh":function(e,t){"use strict";t.a={robotoFont:"'Roboto', sans-serif",locofyBlue:"#457eff",header:"header__WiO9t",heading:"heading__Kz6v4",subheading:"subheading__H0cD5",body:"body__63oHs",fileExplorerWrapper:"fileExplorerWrapper__klIbH",repoInfoText:"repoInfoText__r-wME",repoInfoSpanText:"repoInfoSpanText__cuwNy",editText:"editText__xpRL4",closeButton:"closeButton__Mb4DB",unresolvedWarning:"unresolvedWarning__D9Aux",unresolvedWarningInner:"unresolvedWarningInner__EZssZ",unresolvedWarningImage:"unresolvedWarningImage__qFPLM",unresolvedWarningText:"unresolvedWarningText__XT94L",unresolvedWarningHeading:"unresolvedWarningHeading__h8KiV",cancelWarning:"cancelWarning__NBxug",yesWarning:"yesWarning__LipNl",closeWarning:"closeWarning__S8sMj"}},"+v3W":function(e,t){"use strict";t.a={errorColor:"#f4596c",locofyBlue:"#457eff",locofyGreen:"#4fc786",locofyGreyLight:"#b0b0b0",robotoFont:"'Roboto', sans-serif",exportModalHeader:"exportModalHeader__sSyUs",headerLeft:"headerLeft__dDl-N",headerRight:"headerRight__v1csm",closeExport:"closeExport__qmh+R",repoInfoText:"repoInfoText__nklWb",repoInfoSpanText:"repoInfoSpanText__wdNrm",headerTag:"headerTag__xlliW",editText:"editText__pWwmX",headerTitle:"headerTitle__EqEVS",title:"title__KBdrn",githubContainer:"githubContainer__r4QCU",windowBody:"windowBody__+X4T+",bottomBar:"bottomBar__yRiaY",loadingContainer:"loadingContainer__jvomO",windowFooter:"windowFooter__rG9Oj",bold:"bold__ZIc4N",changes:"changes__mmiTI",circleChanges:"circleChanges__QCh0E",legendText:"legendText__YSe6L",update:"update__rzYJN",modified:"modified__O7Wi+",delete:"delete__3sTHw",conflict:"conflict__zmepx",window:"window__4gaSi",emptyMessage:"emptyMessage__DWRC-",header:"header__zEoFC",btn:"btn__-PiuV",deployBtn:"deployBtn__9TpwB",disabled:"disabled__LlHnD",conflictBtn:"conflictBtn__EyiHb",whiteLoading:"whiteLoading__f-glh",inputGithub:"inputGithub__CXE5U",prCheckMain:"prCheckMain__xdfx-",prChecked:"prChecked__FdVil",prCheck:"prCheck__Zzp6g",footer:"footer__RyXYI",footerSub:"footerSub__ODryq",dropdownPlaceholder:"dropdownPlaceholder__0jf03",seletedItem:"seletedItem__fXQMP",dropdownContainer:"dropdownContainer__Xrf97",dropdownInput:"dropdownInput__eHtgW",errorTextContainer:"errorTextContainer__12Wjn",errorText:"errorText__CupKp",commitHistoryText:"commitHistoryText__8qVx1",legendsTooltip:"legendsTooltip__Zma75",legendRow:"legendRow__z8wQY",legendCircle:"legendCircle__fisvj",untracked:"untracked__sn9iC",deleted:"deleted__NUDxC",mixed:"mixed__UFrN3"}},0:function(){},"2tLp":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u}));var o=n("qykS"),r=n("KyWa"),i=n.n(r),c=n("CmOr"),a=n("6Xce");const s=e=>(e=>(e=>i()(e).toString())(`blob ${o.Buffer.byteLength(e)}\0${e}`))(e),l=(e=[])=>{const t={[c.Hh]:c.Wd,[c.Pf]:"/",[c.pd]:[],[c.ld]:!1,[c.kd]:!1,[c.md]:!1};return e.forEach((e=>{if((null==e?void 0:e[c.Hh])!==c.Dh){const n=e.path,o=n.lastIndexOf("/");let r="/",i=e.path;o>=0&&(i=n.substring(o+1),r=n.substring(0,o));const s={[c.Pe]:e.sha,[c.Pf]:i,[c.Hh]:"file",children:[],[c.ld]:!1,[c.kd]:!1,[c.md]:!1};Object(a.a)(t,r,s)}})),t},u=e=>new Promise((t=>{const n=[],o=(e,t)=>{e.forEach((e=>{if("file"===e[c.Hh]){const o=e[c.ge],r=e[c.de];let i=(null==r?void 0:r[c.Ed])||(null==e?void 0:e[c.Fd])||"";"module.css"!==o&&"css"!==o||(i=(null==r?void 0:r[c.Jd])||(null==e?void 0:e[c.Jd])||""),n.push({path:`${t}${e.name}`,sha:s(`${i}`),[c.Ed]:i,[c.Rd]:e[c.Rd],check_sum:e[c.Pe]})}else{o(e[c.pd],`${t}${e.name}/`)}}))};o(e,""),t(n)}))},CRdf:function(e,t,n){"use strict";(function(e){var o=n("8Jek"),r=n.n(o),i=n("CmOr"),c=n("NGVL"),a=n("rfoC"),s=n("2tLp"),l=n("l8WD"),u=n("5GD2"),f=n("aZW+"),d=n("6v9m"),h=n("nw/Z");t.a=({fileId:t,fileName:n,type:o,activeFileItem:g,resultCodeEditorRef:p,totalConflictsInFile:b,onPrevClick:m,onNextClick:v,updateUI:y})=>{const[C,_]=Object(f.c)(d.Jb,[]),[O,j]=Object(f.c)(d.w,[]),[w]=Object(f.c)(d.cb,[]),[k,x]=Object(f.c)(d.pc,[]),S=Object(l.useCallback)((()=>{if(p.current){const e=C&&[...C.filter((e=>!(null!=w&&w.some((t=>t[i.Pe]===e[i.Pe])))))],n=e&&e.findIndex((e=>e[i.Pe]===t));if(n>-1&&e[n].is_conflict){const o=p.current.getValue();e[n].is_conflict=!1,e[n].clean_content=o,e[n].clean_content_hash=Object(s.a)(o),_(e),y(n),Object(c.M)(!0);const r=O.filter((e=>e[i.Pe]!==t))||[];j(r);const a=[...k];a.push(g),x(a)}}}),[g,O,t,C,k,p,j,_,x,w,y]);return e(a.a,{bg:"#151B2B",h:!0,jsb:!0,vc:!0,height:"38px"},e(a.a,{width:"fit-content",bg:"#0C0F17",ph:12,h:!0,vc:!0,height:38},"result"!==o&&e(a.a,{h:!0,vc:!0,bg:"#192030",pv:4,ph:6,br:4,mr:6},e(a.c,{src:"github"===o?"/assets/studio/deploy/icon_github.svg":"/assets/images/locofy-icon.svg",size:14,mr:4}),e("div",{className:h.a.sourceText},"github"===o?"Github":"Locofy")),e(a.c,{src:`/assets/icons/${u.b.ts}`,mr:4}),e("div",{className:h.a.fileName},n),e("div",{className:h.a.changed},"C"),e("div",{className:h.a.sourceName},"- ","github"===o?"Remote":"local"===o?"Current":"Result")),"result"===o&&e(a.a,{h:!0,mr:22,vc:!0},e("div",{className:h.a.totalConflicts},b>1?`${b} conflicts remaining`:1===b?"1 conflict remaining":"0 conflicts remaining! You can now mark this as resolved."),e("button",{className:r()(h.a.navigationButtons,h.a.prevButton),onClick:m},e(a.c,{src:"/assets/icons/left-chevron-blue.svg",width:6,mr:6,mb:2}),"Prev"),e("button",{className:h.a.navigationButtons,onClick:v},"Next",e(a.c,{src:"/assets/icons/right-chevron-blue.svg",width:6,ml:6,mb:2})),e("div",{className:h.a.seperator}),e("button",{className:r()(h.a.button,{[h.a.disabledButton]:b>0}),onClick:S},e(a.c,b>0?{src:"/assets/icons/check_mark_grey.svg",height:12,mr:4}:{src:"/assets/icons/check_mark.svg",height:12,mr:4}),"Mark Resolved")))}}).call(this,n("hosL").h)},FaXh:function(e,t){t.read=function(e,t,n,o,r){var i,c,a=8*r-o-1,s=(1<<a)-1,l=s>>1,u=-7,f=n?r-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-u)-1,h>>=-u,u+=a;u>0;i=256*i+e[t+f],f+=d,u-=8);for(c=i&(1<<-u)-1,i>>=-u,u+=o;u>0;c=256*c+e[t+f],f+=d,u-=8);if(0===i)i=1-l;else{if(i===s)return c?NaN:1/0*(h?-1:1);c+=Math.pow(2,o),i-=l}return(h?-1:1)*c*Math.pow(2,i-o)},t.write=function(e,t,n,o,r,i){var c,a,s,l=8*i-r-1,u=(1<<l)-1,f=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=o?0:i-1,g=o?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,c=u):(c=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-c))<1&&(c--,s*=2),(t+=c+f>=1?d/s:d*Math.pow(2,1-f))*s>=2&&(c++,s/=2),c+f>=u?(a=0,c=u):c+f>=1?(a=(t*s-1)*Math.pow(2,r),c+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,r),c=0));r>=8;e[n+h]=255&a,h+=g,a/=256,r-=8);for(c=c<<r|a,l+=r;l>0;e[n+h]=255&c,h+=g,c/=256,l-=8);e[n+h-g]|=128*p}},Hb73:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},KlUR:function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function o(e,t,n){for(var o,i=[],c=t;c<n;c+=3)i.push(r[(o=(e[c]<<16&16711680)+(e[c+1]<<8&65280)+(255&e[c+2]))>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return i.join("")}t.byteLength=function(e){var t=n(e),o=t[1];return 3*(t[0]+o)/4-o},t.toByteArray=function(e){var t,o,r=n(e),a=r[0],s=r[1],l=new c(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,f=s>0?a-4:a;for(o=0;o<f;o+=4)t=i[e.charCodeAt(o)]<<18|i[e.charCodeAt(o+1)]<<12|i[e.charCodeAt(o+2)]<<6|i[e.charCodeAt(o+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=i[e.charCodeAt(o)]<<2|i[e.charCodeAt(o+1)]>>4,l[u++]=255&t),1===s&&(t=i[e.charCodeAt(o)]<<10|i[e.charCodeAt(o+1)]<<4|i[e.charCodeAt(o+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,c=[],a=16383,s=0,l=n-i;s<l;s+=a)c.push(o(e,s,s+a>l?l:s+a));return 1===i?c.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&c.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),c.join("")};for(var r=[],i=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},KyWa:function(e,t,n){var o,r,i,c,a,s,l;e.exports=(l=n("vxcJ"),i=(r=(o=l).lib).WordArray,a=[],s=o.algo.SHA1=(c=r.Hasher).extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],r=n[1],i=n[2],c=n[3],s=n[4],l=0;l<80;l++){if(l<16)a[l]=0|e[t+l];else{var u=a[l-3]^a[l-8]^a[l-14]^a[l-16];a[l]=u<<1|u>>>31}var f=(o<<5|o>>>27)+s+a[l];f+=l<20?1518500249+(r&i|~r&c):l<40?1859775393+(r^i^c):l<60?(r&i|r&c|i&c)-1894007588:(r^i^c)-899497514,s=c,c=i,i=r<<30|r>>>2,r=o,o=f}n[0]=n[0]+o|0,n[1]=n[1]+r|0,n[2]=n[2]+i|0,n[3]=n[3]+c|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[14+(o+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(o+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e}}),o.SHA1=c._createHelper(s),o.HmacSHA1=c._createHmacHelper(s),l.SHA1)},LGi0:function(e,t,n){"use strict";(function(e){function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return e.getTopForLineNumber(t)}function a(e,t,n,o,r,i){let a=e.getVisibleRanges()[0][B];n<c(e,a)&&a--;let s=-1,l=-1,u=-1,f=-18;const d=Object(C.bc)(o),h=[];for(let e=0;e<d;e++){const t=o[e].originalState;if(!t)continue;let n=t[r],c=t[i];r===A&&(n=n.range),i===A&&(c=c.range);const f=n[B],d=n[N],g=c[B],p=c[N];if(a<f){s=f,l=g;break}if(a<d+1){u=g,s=d+1,l=p+1;break}h.push([f,d+1,g,p+1])}const g=h.pop();-1===s&&(s=e.getModel().getLineCount()+1,l=t.getModel().getLineCount()+1,f=0);let p=0,b=0;g&&(p=c(e,g[1]),b=c(t,g[3]));const m=(n-p)/(c(e,s)-p),v=c(t,l)+f*(1-m)-b,y=u<0?0:c(t,u)+f,_=Math.max(y,b+v*m);t.setScrollTop(_)}function s(...e){const t=document.createElement("div");return e.forEach((e=>e&&t.classList.add(e))),t}function l(...e){const t=document.createElement("button");return e.forEach((e=>e&&t.classList.add(e))),t}function u(e,t,n="github"){return e[t][n][B]}function f(e,t,n="github"){return e[t][n][B]}function d(e,t,n){const o=e.current||e;if(t&&o){o.revealLinesNearTop(t[B],t[N],n)}}function h(e){return e?Object(C.bc)(W(e)):1}function g(e,t){return t>=e[B]&&t<=e[N]}function p(e){e.current=!0,setTimeout((()=>e.current=!1),100)}var b=n("H+Bb"),m=n("8Jek"),v=n.n(m),y=n("CmOr"),C=n("S3S6"),_=n("uXW1"),O=n("NGVL"),j=n("rfoC"),w=n("bMTy"),k=n("Vp0P"),x=n("l8WD"),S=n("MPO6"),E=n("CRdf"),T=n("i4pj");const R={scrollbar:{vertical:"visible",verticalSliderSize:15}},B="startLineNumber",N="endLineNumber",I="scrollType",P="range",L="locofy",M="github",A="result",H="zoneHeight",D="acceptedFrom",F=[-1,-1,-1],U=["\r\n","\n"],W=e=>e.split(/\r?\n/),z=e=>W(e.getValue());t.a=({mergePathFileId:t,activeFileItem:n,totalConflicts:o,codeBlocks:i,onCompleteMerge:m,updateUI:Y})=>{const{editor:Z}=Object(b.b)();const[V,G]=Object(x.useState)(0),[X,J]=Object(x.useState)(!1),[K,$]=Object(x.useState)(0),[Q,q]=Object(x.useState)([]),[ee,te]=Object(x.useState)(""),[ne,oe]=Object(x.useState)(""),[re,ie]=Object(x.useState)(""),ce=Object(x.useRef)(null),ae=Object(x.useRef)(null),se=Object(x.useRef)(null),le=Object(x.useRef)(null),ue=Object(x.useRef)(null),fe=Object(x.useRef)(null),de=Object(x.useRef)(null),he=Object(x.useRef)(null),ge=Object(x.useRef)(!1),pe=n&&n[y.ge],be="css"===pe||"module.css"===pe?"css":"html"===pe?"html":"typescript";Object(x.useEffect)((()=>()=>{F[0]=-1,F[1]=-1,F[2]=-1}),[]);const me=Object(x.useCallback)((()=>{const e=ce.current,t=ae.current,n=se.current;if(e&&t&&n){const o="getScrollTop";F[0]=e[o](),F[1]=t[o](),F[2]=n[o]()}}),[]),ve=Object(x.useCallback)((()=>{const e=ce.current,t=ae.current,n=se.current;if(e&&t&&n){const o="setScrollTop",r=F.slice();return r[0]>=0&&e[o](r[0]),r[1]>=0&&t[o](r[1]),r[2]>=0&&n[o](r[2]),F[0]=-1,F[1]=-1,F[2]=-1,r}return[-1,-1,-1]}),[]),ye=Object(x.useCallback)((e=>{p(ge),me(),ie(`${e} `),setTimeout((()=>{me(),ie(e)}),10)}),[me]),Ce=Object(x.useCallback)((()=>{0!==K&&$((e=>e-1))}),[K]),_e=Object(x.useCallback)(((e,t,n,o)=>{const r=n.deltaDecorations([],[{[P]:{startLineNumber:e,endLineNumber:t},options:{isWholeLine:!0,className:T.a.backgroundColor,stickiness:0}}]);o.push(r[0])}),[]),Oe=Object(x.useCallback)(((e,t,n,o)=>{for(let r=e;r<=t;r++){const e=n.deltaDecorations([],[{[P]:{startLineNumber:r,endLineNumber:r},options:{isWholeLine:!0,className:`${T.a.borderLeft} ${T.a.borderRight}`,stickiness:0}}]);o.push(e[0])}}),[]),je=Object(x.useCallback)(((e,t,n)=>{const o=t.deltaDecorations([],[{[P]:{startLineNumber:e,endLineNumber:e},options:{isWholeLine:!0,className:T.a.borderBottom,stickiness:0}}]);n.push(o[0])}),[]),we=Object(x.useCallback)(((e,t,n)=>{let o="";return e.current&&e.current.changeViewZones((e=>{const r=e.addZone({afterLineNumber:t,heightInLines:n,domNode:s(T.a.emptyLine)});o=r})),o}),[]),ke=Object(x.useCallback)(((e,t,n,o,r=!0)=>{let i="";return e.current&&e.current.changeViewZones((e=>{const c=s(T.a.emptyLine,T.a.borderLeft,T.a.borderRight,!r&&T.a.borderBottom),a=e.addZone({afterLineNumber:t,heightInLines:n,domNode:c,onComputedHeight:o});i=a})),i}),[]),xe=Object(x.useCallback)(((e,t)=>{J(!0);const n=se.current;if(!n)return;const o=e[t].originalState,{[B]:r,[N]:i}=o.github,{[B]:c,[N]:a}=o.locofy,s=o.result.range,l=Math.abs(r-i),u=Math.abs(c-a),f=Math.abs(s[B]-s[N])-u,d=z(n),h=d.slice(0,s[B]-1),g=d.slice(s[B]+l),p=h.concat(g).join("\n");o.result.range[N]-=f,e.forEach(((e,n)=>{if(e.isConflict&&n>t){const t=e.originalState.result.range;t[B]-=f,t[N]-=f}})),o.acceptedFrom="locofy",fe.current=t,ye(p)}),[ye]),Se=Object(x.useCallback)(((e,t)=>{J(!0);const n=se.current;if(!n)return;const o=e[t].originalState,r=o.result.range,i=Math.abs(o.github[B]-o.github[N]),c=Math.abs(r[B]-r[N])-i,a=z(n),s=a.slice(0,r[B]+i),l=a.slice(r[N]),u=s.concat(l).join("\n");r[N]-=c,e.forEach(((e,n)=>{if(e.isConflict&&n>t){const t=e.originalState.result.range;t[B]-=c,t[N]-=c}})),o.acceptedFrom="github",fe.current=t,ye(u)}),[ye]),Ee=Object(x.useCallback)(((e,t)=>{const n=s(T.a.noChangesAcceptedText);n.textContent="Github + Locofy";const o=s(T.a.divider);o.textContent="|";const r=s(T.a.changesButton);r.textContent="Remove Github",r.onclick=()=>xe(e,t);const i=s(T.a.divider);i.textContent="|";const c=s(T.a.changesButton);c.textContent="Remove Locofy",c.onclick=()=>Se(e,t);const a=s(T.a.buttonsContainer);a.appendChild(n),a.appendChild(o),a.appendChild(r),a.appendChild(i),a.appendChild(c);const l=s(T.a.borderLeft,T.a.borderRight,T.a.borderTop);return l.appendChild(a),l}),[xe,Se]),Te=Object(x.useCallback)(((e,t)=>{J(!0);const n=se.current;if(!n)return;const o=e[t].originalState,{[B]:r,[N]:i}=o.github,{[B]:c,[N]:a}=o.locofy,s=o.result.range,l=Math.abs(r-i),u=Math.abs(c-a),f=Math.abs(s[B]-s[N])-l,d=z(n),h=d.slice(0,s[B]-1),g=d.slice(s[B]+u),p=h.concat(g).join("\n");s[N]-=f,e.forEach(((e,n)=>{if(e.isConflict&&n>t){const t=e.originalState.result.range;t[B]-=f,t[N]-=f}})),o.acceptedFrom="github",fe.current=t,ye(p)}),[ye]),Re=Object(x.useCallback)(((e,t)=>{J(!0);const n=se.current;if(!n)return;const o=e[t].originalState,r=o.result.range,i=Math.abs(o.locofy[B]-o.locofy[N]),c=Math.abs(r[B]-r[N])-i,a=z(n),s=a.slice(0,r[B]+i),l=a.slice(r[N]),u=s.concat(l).join("\n");o.result.range[N]-=c,e.forEach(((e,n)=>{if(e.isConflict&&n>t){const t=e.originalState.result.range;t[B]-=c,t[N]-=c}})),o.acceptedFrom="locofy",fe.current=t,ye(u)}),[ye]),Be=Object(x.useCallback)(((e,t)=>{const n=s(T.a.noChangesAcceptedText);n.textContent="Locofy + Github";const o=s(T.a.divider);o.textContent="|";const r=s(T.a.changesButton);r.textContent="Remove Locofy",r.onclick=()=>Te(e,t);const i=s(T.a.divider);i.textContent="|";const c=s(T.a.changesButton);c.textContent="Remove Github",c.onclick=()=>Re(e,t);const a=s(T.a.buttonsContainer);a.appendChild(n),a.appendChild(o),a.appendChild(r),a.appendChild(i),a.appendChild(c);const l=s(T.a.borderLeft,T.a.borderRight,T.a.borderTop);return l.appendChild(a),l}),[Re,Te]),Ne=Object(x.useCallback)(((e,t)=>{const n=se.current;if(!n)return;const o=e[t].originalState.result,r=o.range,i=[];let a="";const s=n.getModel();Oe(r[B],r[N],s,i),je(r[N],s,i);const l=c(n,r[B]);let u=c(n,r[N])-l;u+=Z.EditorOption.lineHeight,o.zoneHeight+=u,n.changeViewZones((n=>{const i=Be(e,t),c=n.addZone({afterLineNumber:r[B]-1,heightInLines:1,domNode:i,onComputedHeight:e=>o.zoneHeight+=e});a=c})),o.buttonsId=a,o.decorationIds=i}),[je,Oe,Z.EditorOption.lineHeight,Be]),Ie=Object(x.useCallback)(((e,t)=>{const n=se.current;if(!n)return;const o=e[t].originalState.result,r=o.range,i=[];let a="";const s=n.getModel();Oe(r[B],r[N],s,i),je(r[N],s,i);const l=c(n,r[B]);let u=c(n,r[N])-l;u+=Z.EditorOption.lineHeight,o.zoneHeight+=u,n.changeViewZones((n=>{const i=Ee(e,t),c=n.addZone({afterLineNumber:r[B]-1,heightInLines:1,domNode:i,onComputedHeight:e=>o.zoneHeight+=e});a=c})),o.buttonsId=a,o.decorationIds=i}),[je,Oe,Z.EditorOption.lineHeight,Ee]),Pe=Object(x.useCallback)(((e,t)=>{J(!0);const n=se.current;if(!n)return;const o=e[t].originalState,r=o.result,i=r.range,c=Math.abs(i[B]-i[N]),a=z(n),s=a.slice(0,i[B]-1),l=a.slice(i[N]),u=s.concat([""]).concat(l).join("\n");r.range[N]-=c,e.forEach(((e,n)=>{if(e.isConflict&&n>t){const t=e.originalState.result.range;t[B]-=c,t[N]-=c}})),o.acceptedFrom=y.Ic,$((e=>e+1)),fe.current=t,ye(u)}),[ye]),Le=Object(x.useCallback)(((e,t)=>{const n=s(T.a.noChangesAcceptedText);n.textContent="Github";const o=s(T.a.divider);o.textContent="|";const r=l(T.a.changesButton);r.textContent="Remove Github",r.onclick=()=>Pe(e,t);const i=s(T.a.buttonsContainer);i.appendChild(n),i.appendChild(o),i.appendChild(r);const c=s(T.a.borderLeft,T.a.borderRight,T.a.borderTop);return c.appendChild(i),c}),[Pe]),Me=Object(x.useCallback)(((e,t)=>{const n=se.current;if(!n)return;const o=e[t].originalState.result,r=o.range,i=[];let a="";const s=n.getModel();Oe(r[B],r[N],s,i),je(r[N],s,i);const l=c(n,r[B]);let u=c(n,r[N])-l;u+=Z.EditorOption.lineHeight,o.zoneHeight+=u,n.changeViewZones((n=>{const i=Le(e,t),c=n.addZone({afterLineNumber:r[B]-1,heightInLines:1,domNode:i,onComputedHeight:e=>o.zoneHeight+=e});a=c})),o.buttonsId=a,o.decorationIds=i}),[je,Oe,Z.EditorOption.lineHeight,Le]),Ae=Object(x.useCallback)(((e,t)=>{J(!0);const n=se.current;if(!n)return;const o=e[t].originalState.result,r=o.range,i=Math.abs(r[B]-r[N]),c=z(n),a=c.slice(0,r[B]-1),s=c.slice(r[N]),l=a.concat([""]).concat(s).join("\n");o.range[N]-=i,e.forEach(((e,n)=>{if(e.isConflict&&n>t){const t=e.originalState.result.range;t[B]-=i,t[N]-=i}})),e[t].originalState.acceptedFrom=y.Ic,$((e=>e+1)),fe.current=t,ye(l)}),[ye]),He=Object(x.useCallback)(((e,t)=>{const n=s(T.a.noChangesAcceptedText);n.textContent="Locofy";const o=s(T.a.divider);o.textContent="|";const r=l(T.a.changesButton);r.textContent="Remove Locofy",r.onclick=()=>Ae(e,t);const i=s(T.a.buttonsContainer);i.appendChild(n),i.appendChild(o),i.appendChild(r);const c=s(T.a.borderLeft,T.a.borderRight,T.a.borderTop);return c.appendChild(i),c}),[Ae]),De=Object(x.useCallback)(((e,t)=>{const n=se.current;if(!n)return;const o=e[t].originalState.result,r=o.range,i=[];let a="";const s=n.getModel();Oe(r[B],r[N],s,i),je(r[N],s,i);const l=c(n,r[B]);let u=c(n,r[N])-l;u+=Z.EditorOption.lineHeight,o.zoneHeight+=u,n.changeViewZones((n=>{const i=He(e,t),c=n.addZone({afterLineNumber:r[B]-1,heightInLines:1,domNode:i,onComputedHeight:e=>o.zoneHeight+=e});a=c})),o.buttonsId=a,o.decorationIds=i}),[je,Oe,Z.EditorOption.lineHeight,He]),Fe=Object(x.useCallback)(((e,t)=>{const n=ae.current;if(!n)return;const o=e[t].originalState.locofy,{hasDifference:r,differenceStartLineNumber:i,differenceHeight:a,isDifferenceAbove:l}=o,u=o[B],f=o[N];n.changeViewZones((e=>{let t="",d="";const h=[],g=n.getModel();Oe(u,f,g,h);const p=c(n,u);let b=c(n,f)-p;b+=Z.EditorOption.lineHeight,o.zoneHeight+=b;const m=s(T.a.borderTop,T.a.borderLeft,T.a.borderRight),v=e.addZone({afterLineNumber:u-1,heightInLines:1,domNode:m,onComputedHeight:e=>o.zoneHeight+=e});t=v,r?d=ke(ae,i,a,(e=>{o.zoneHeight+=e}),null!=l&&l):je(f,g,h),o.buttonsId=t,o.decorationIds=h,o.diffId=d}))}),[je,Oe,ke,Z.EditorOption.lineHeight]),Ue=Object(x.useCallback)(((e,t)=>{const n=ce.current;if(!n)return;const o=e[t].originalState.github,{hasDifference:r,differenceStartLineNumber:i,differenceHeight:a,isDifferenceAbove:l}=o,u=o[B],f=o[N];n.changeViewZones((e=>{let t="",d="";const h=[],g=n.getModel();Oe(u,f,g,h);const p=c(n,u);let b=c(n,f)-p;b+=Z.EditorOption.lineHeight,o.zoneHeight+=b;const m=s(T.a.borderTop,T.a.borderLeft,T.a.borderRight),v=e.addZone({afterLineNumber:u-1,heightInLines:1,domNode:m,onComputedHeight:e=>o.zoneHeight+=e});t=v,r?d=ke(ce,i,a,(e=>{o.zoneHeight+=e}),null!=l&&l):je(f,g,h),o.buttonsId=t,o.decorationIds=h,o.diffId=d}))}),[je,Oe,ke,Z.EditorOption.lineHeight]),We=Object(x.useCallback)(((e,t)=>{const n=se.current;if(!n)return;const o=z(n);J(!0);const r=e[t].originalState,i=r.github[B],c=r.github[N],a=r.result.range,s=Math.abs(i-c),l=W(ee).slice(i-1,c),u=o.slice(0,a[B]-1),f=o.slice(a[N]),d=u.concat(l).concat(f).join("\n");r.result.range[N]+=s,e.forEach(((e,n)=>{if(e.isConflict&&n>t){const t=e.originalState.result.range;t[B]+=s,t[N]+=s}})),r.acceptedFrom="github",Ce(),fe.current=t,me(),p(ge),ie(d),Object(O.K)("github")}),[Ce,ee,me]),ze=Object(x.useCallback)(((e,t)=>{const n=se.current;if(!n)return;const o=z(n);J(!0);const r=e[t].originalState,{[B]:i,[N]:c}=r.github,{[B]:a,[N]:s}=r.locofy,l=r.result.range,u=Math.abs(i-c)+Math.abs(a-s)+1,f=o.slice(0,l[B]-1),d=W(ee).slice(i-1,c),h=W(ne).slice(a-1,s),g=o.slice(l[N]),b=f.concat(d).concat(h).concat(g).join("\n");l[N]+=u,e.forEach(((e,n)=>{if(e.isConflict&&n>t){const t=e.originalState.result.range;t[B]+=u,t[N]+=u}})),r.acceptedFrom="github + locofy",Ce(),fe.current=t,me(),p(ge),ie(b),Object(O.K)("both")}),[Ce,ee,ne,me]),Ye=Object(x.useCallback)(((e,t)=>{const n=l(T.a.changesButton);n.textContent="Accept Github Change",n.onclick=()=>We(e,t);const o=s(T.a.divider);o.textContent="|";const r=l(T.a.changesButton);r.textContent="Accept Both Changes",r.onclick=()=>ze(e,t);const i=s(T.a.buttonsContainer);i.appendChild(n),i.appendChild(o),i.appendChild(r);const c=s(T.a.borderLeft,T.a.borderRight,T.a.borderTop);return c.appendChild(i),c}),[ze,We]),Ze=Object(x.useCallback)(((e,t,n,o)=>{let r="";return ce.current&&ce.current.changeViewZones((i=>{const c=Ye(t,n),a=i.addZone({afterLineNumber:e,heightInLines:1,domNode:c,onComputedHeight:o});r=a})),r}),[Ye]),Ve=Object(x.useCallback)(((e,t)=>{const n=se.current;if(!n)return;J(!0);const o=z(n),r=e[t].originalState,i=r.locofy[B],c=r.locofy[N],a=r.result.range,s=Math.abs(i-c),l=W(ne).slice(i-1,c),u=o.slice(0,a[B]-1),f=o.slice(a[N]),d=u.concat(l).concat(f).join("\n");a[N]+=s,e.forEach(((e,n)=>{if(e.isConflict&&n>t){const t=e.originalState.result.range;t[B]+=s,t[N]+=s}})),r.acceptedFrom="locofy",Ce(),fe.current=t,me(),p(ge),ie(d),Object(O.K)("locofy")}),[Ce,ne,me]),Ge=Object(x.useCallback)(((e,t)=>{const n=se.current;if(!n)return;J(!0);const o=z(n),r=e[t].originalState,{[B]:i,[N]:c}=r.github,{[B]:a,[N]:s}=r.locofy,l=r.result.range,u=Math.abs(i-c)+Math.abs(a-s)+1,f=o.slice(0,l[B]-1),d=W(ee).slice(i-1,c),h=W(ne).slice(a-1,s),g=o.slice(l[N]),b=f.concat(h).concat(d).concat(g).join("\n");l[N]+=u,e.forEach(((e,n)=>{if(e.isConflict&&n>t){const t=e.originalState.result.range;t[B]+=u,t[N]+=u}})),r.acceptedFrom="locofy + github",Ce(),fe.current=t,me(),p(ge),ie(b),Object(O.K)("both")}),[Ce,ee,ne,me]),Xe=Object(x.useCallback)(((e,t)=>{const n=l(T.a.changesButton);n.textContent="Accept Locofy Change",n.onclick=()=>Ve(e,t);const o=s(T.a.divider);o.textContent="|";const r=l(T.a.changesButton);r.textContent="Accept Both Changes",r.onclick=()=>Ge(e,t);const i=s(T.a.buttonsContainer);i.appendChild(n),i.appendChild(o),i.appendChild(r);const c=s(T.a.borderLeft,T.a.borderRight,T.a.borderTop);return c.appendChild(i),c}),[Ge,Ve]),Je=Object(x.useCallback)(((e,t,n,o)=>{let r="";return ae.current&&ae.current.changeViewZones((i=>{const c=Xe(t,n),a=i.addZone({afterLineNumber:e,heightInLines:1,domNode:c,onComputedHeight:o});r=a})),r}),[Xe]),Ke=Object(x.useCallback)(((e,t)=>{let n="";return se.current&&se.current.changeViewZones((o=>{const r=s(T.a.noChangesAcceptedText,T.a.borderTop,T.a.borderLeft,T.a.borderRight);r.textContent="No Changes Accepted";const i=o.addZone({afterLineNumber:e,heightInLines:1,domNode:r,onComputedHeight:t});n=i})),n}),[]),$e=Object(x.useCallback)(((e,t)=>{const n=se.current;if(!n)return;J(!0);const o=e[t].originalState,r=o.result.range,i=Math.abs(r[B]-r[N]),c=z(n),a=c.slice(0,r[B]-1),s=c.slice(r[N]),l=a.concat([""]).concat(s).join("\n");o.result.range[N]-=i,e.forEach(((e,n)=>{if(e.isConflict&&n>t){const t=e.originalState.result.range;t[B]-=i,t[N]-=i}})),o.acceptedFrom=y.Ic,$((e=>e+1)),fe.current=t,ye(l)}),[ye]),Qe=Object(x.useCallback)(((e,t)=>{const n=s(T.a.noChangesAcceptedText);n.textContent="Manual Resolution";const o=s(T.a.divider);o.textContent="|";const r=l(T.a.changesButton);r.textContent="Reset to base",r.onclick=()=>$e(e,t);const i=s(T.a.buttonsContainer);i.appendChild(n),i.appendChild(o),i.appendChild(r);const c=s(T.a.borderLeft,T.a.borderRight,T.a.borderTop);return c.appendChild(i),c}),[$e]),qe=Object(x.useCallback)(((e,t)=>{const n=se.current;if(!n)return;const o=e[t].originalState.result,r=o.range,i=[];let a="";const s=n.getModel();Oe(r[B],r[N],s,i),je(r[N],s,i);const l=c(n,r[B]);let u=c(n,r[N])-l;u+=Z.EditorOption.lineHeight,o.zoneHeight+=u,n.changeViewZones((n=>{const i=Qe(e,t),c=n.addZone({afterLineNumber:r[B]-1,heightInLines:1,domNode:i,onComputedHeight:e=>o.zoneHeight+=e});a=c})),o.buttonsId=a,o.decorationIds=i}),[je,Oe,Z.EditorOption.lineHeight,Qe]),et=Object(x.useCallback)(((e,t)=>{const n=ce.current;if(!n)return;const o=e[t];if(o.originalState){const{buttonsId:e,diffId:t,decorationIds:r}=o.originalState.github;if(o.originalState.github.zoneHeight=0,r){n.getModel().deltaDecorations(r,[]),o.originalState.github.decorationIds=[]}n.changeViewZones((n=>{e&&n.removeZone(e),t&&n.removeZone(t)}))}o.githubDiff&&n.changeViewZones((e=>{o.githubDiff.diffId&&e.removeZone(o.githubDiff.diffId)}))}),[]),tt=Object(x.useCallback)(((e,t)=>{const n=ae.current;if(!n)return;const o=e[t];if(o.originalState){const{buttonsId:e,diffId:t,decorationIds:r}=o.originalState.locofy;if(o.originalState.locofy.zoneHeight=0,r){n.getModel().deltaDecorations(r,[]),o.originalState.locofy.decorationIds=[]}n.changeViewZones((n=>{e&&n.removeZone(e),t&&n.removeZone(t)}))}o.locofyDiff&&n.changeViewZones((e=>{o.locofyDiff.diffId&&e.removeZone(o.locofyDiff.diffId)}))}),[]),nt=Object(x.useCallback)(((e,t)=>{const n=e[t],o=se.current;if(!n.originalState||!o)return;const r=n.originalState.result,{buttonsId:i,decorationIds:c}=r;if(r.zoneHeight=0,c){o.getModel().deltaDecorations(c,[]),r.decorationIds=[]}o.changeViewZones((e=>{i&&e.removeZone(i)}))}),[]),ot=Object(x.useCallback)(((e,t)=>{if(ce.current){const n=e[t].githubDiff,o=n[B],r=Math.abs(o-n[N])+1,i=we(ce,o-1,r);n.diffId=i}}),[we]),rt=Object(x.useCallback)(((e,t)=>{if(ae.current){const{startLineNumber:n,endLineNumber:o}=e[t].locofyDiff,r=Math.abs(n-o)+1;let i="";i=we(ae,n-1,r),e[t].locofyDiff.diffId=i}}),[we]),it=Object(x.useCallback)(((e,t)=>{const n=ce.current;if(!n)return;const o=e[t].originalState.github,{startLineNumber:r,endLineNumber:i,hasDifference:a,differenceStartLineNumber:s,differenceHeight:l,isDifferenceAbove:u}=o;let f="",d="";const h=[],g=n.getModel();_e(r,i,g,h),Oe(r,i,g,h);const p=c(n,r);let b=c(n,i)-p;b+=Z.EditorOption.lineHeight,o.zoneHeight+=b,a?(d=ke(ce,s,l,(e=>{o.zoneHeight+=e}),null!=u&&u),f=Ze(r-1,e,t,(e=>{o.zoneHeight+=e}))):(je(i,g,h),f=Ze(r-1,e,t,(e=>{o.zoneHeight+=e}))),o.buttonsId=f,o.diffId=d,o.decorationIds=h}),[_e,je,Ze,Oe,ke,Z.EditorOption.lineHeight]),ct=Object(x.useCallback)(((e,t)=>{const n=ae.current;if(!n)return;const o=e[t].originalState.locofy,{startLineNumber:r,endLineNumber:i,hasDifference:a,differenceStartLineNumber:s,differenceHeight:l,isDifferenceAbove:u}=o;let f="",d="";const h=[],g=n.getModel();_e(r,i,g,h),Oe(r,i,g,h);const p=c(n,r);let b=c(n,i)-p;b+=Z.EditorOption.lineHeight,o.zoneHeight+=b,a?(d=ke(ae,s,l,(e=>{o.zoneHeight+=e}),null!=u&&u),f=Je(r-1,e,t,(e=>{o.zoneHeight+=e}))):(je(i,g,h),f=Je(r-1,e,t,(e=>{o.zoneHeight+=e}))),o.buttonsId=f,o.diffId=d,o.decorationIds=h}),[_e,je,Oe,Je,ke,Z.EditorOption.lineHeight]),at=Object(x.useCallback)(((e,t)=>{const n=se.current;if(!n)return;const o=e[t].originalState.result,r=o.range;let i="";const a=[],s=n.getModel();Oe(r[B],r[N],s,a);const l=c(n,r[B]);let u=c(n,r[B])-l;u+=Z.EditorOption.lineHeight,o.zoneHeight+=u,je(r[N],s,a),i=Ke(r[B]-1,(e=>{o.zoneHeight+=e})),o.buttonsId=i,o.decorationIds=a}),[je,Oe,Ke,Z.EditorOption.lineHeight]),st=Object(x.useCallback)((()=>{if(X)return;if(!ce.current||!ae.current||!se.current)return;const e=[...Q];e[0].isSelected=!0;const t=e[0];d(ce,t.github),d(ae,t.locofy),d(se,t.result),q(e)}),[Q,X]),lt=Object(x.useCallback)((e=>{e.forEach(((t,n)=>{et(e,n),tt(e,n),nt(e,n)}))}),[et,tt,nt]),ut=Object(x.useCallback)((()=>{const e=fe.current,t=ce.current,n=ae.current,o=se.current;if(t&&n&&o&&null!==e&&e>-1){const r=i[e];if(r.originalState){const e=r.originalState.github,i=r.originalState.locofy,c=r.originalState.result,[a,s,l]=ve();a<0&&d(t,e),s<0&&d(n,i),l<0&&d(o,c.range)}}}),[i,ve]),ft=Object(x.useCallback)(((e,t)=>{const n=e[t];if(n.originalState){const o=n.originalState.acceptedFrom;"manual"===o?(Ue(e,t),Fe(e,t),qe(e,t)):"github"===o?(Ue(e,t),Fe(e,t),Me(e,t)):"locofy"===o?(Ue(e,t),Fe(e,t),De(e,t)):"github + locofy"===o?(Ue(e,t),Fe(e,t),Ie(e,t)):"locofy + github"===o?(Ue(e,t),Fe(e,t),Ne(e,t)):(it(e,t),ct(e,t),at(e,t))}else n.githubDiff?ot(e,t):n.locofyDiff&&rt(e,t)}),[Me,Ie,De,Ne,qe,it,ot,ct,rt,at,Ue,Fe]),dt=Object(x.useCallback)((()=>{Object(C.bc)(ee)&&Object(C.bc)(ne)&&Object(C.bc)(re)&&(lt(i),i.forEach(((e,t)=>{ft(i,t)})))}),[lt,i,ee,ne,re,ft]);Object(x.useEffect)((()=>{const e=setTimeout((()=>{se.current&&se.current.getModel()._commandManager._undoRedoService._editStacks.clear()}),500);return()=>clearTimeout(e)}),[]),Object(x.useEffect)((()=>{dt(),st(),ut()}),[re]);const ht=Object(x.useCallback)((()=>{if(X)return;let e=0,t=0,n=0,o="",r="",c="",a=0;const s=[];let l=!1;const u=Object(C.bc)(i),f=e=>l?e:`${e||""}\n`;for(let d=0;d<u;d++){const g=i[d];l=d===u-1;const p=g[y.Ed],b=g.remoteContent,m=g.locoContent,v=h(p),C=h(b),_=h(m),O=g.prev,j=g.latest;let w=!0;if(g.isConflict){a++;const l=e+1;e+=C;const u=e;o+=f(b);const h=t+1;t+=_;const g=t;r+=f(m);const p=n+1;n++,c+="\n";const v={[M]:{[B]:l,[N]:u,[H]:0},[L]:{[B]:h,[N]:g,[H]:0},[A]:{[P]:{[B]:p,[N]:p},[H]:0},[D]:y.Ic},O={[M]:{[B]:l,[N]:g},[L]:{[B]:h,[N]:g},[A]:{[B]:p,[N]:p},isSelected:!1},j=C-_;if(j>0){const e=v.locofy;e.hasDifference=!0,e.isDifferenceAbove=!1,e.differenceStartLineNumber=g,e.differenceEndLineNumber=g+j,e.differenceHeight=j}else if(j<0){const e=v.github;e.hasDifference=!0,e.isDifferenceAbove=!1,e.differenceStartLineNumber=u,e.differenceEndLineNumber=u+-1*j,e.differenceHeight=-1*j}i[d].originalState=v,s.push(O)}else{if(g.isRemoteContent)e+=v,o+=f(p);else if(g.isLocoContent)t+=v,r+=f(p);else if(O&&j){const n=h(O),i=h(j);e+=n,o+=f(O),t+=i,r+=f(j),w=!1}else O&&!j?(e+=v,o+=f(p),w=!1):j&&!O?(t+=v,r+=f(p),w=!1):(e+=v,o+=f(p),t+=v,r+=f(p));w&&(n+=v,c+=f(p))}}te(o),oe(r),p(ge),ie(c),ue.current=c,$(a),q(s)}),[i,X]),gt=Object(x.useCallback)((()=>{se.current.updateOptions({renderValidationDecorations:"off"})}),[]),pt=Object(x.useCallback)((()=>{const e=se.current;e.onKeyDown((t=>{const n=t.code,o=t.metaKey,r=t.ctrlKey,c=t.altKey;le.current=n;const a=[];i.forEach((e=>{e.originalState&&a.push(e.originalState.result.range[B])}));const{lineNumber:s}=e.getPosition(),l=e.getModel().getLineContent(s),u=e.getSelection(),f=Math.abs(u[B]-u[N]),d=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","ShiftLeft","ShiftRight","MetaLeft","MetaRight","AltLeft","AltRight"];if(c&&"ArrowUp"===n||c&&"ArrowDown"===n||!f&&u.endColumn===u.startColumn&&(o||r)&&"KeyX"===n)Object(k.h)(t);else if(f>0){if(!d.includes(n)||(o||r)&&["KeyV","KeyX"].includes(n))for(let e=0;e<i.length;e++){const n=i[e];if(n.originalState){const e=n.originalState.result.range;if(u[B]>=e[B]&&u[N]<=e[N])e[N]-=f;else if(u[N]<e[B])e[B]-=f,e[N]-=f;else if(u[B]<e[B]&&u[N]<e[N]||u[B]<=e[N]&&u[N]>e[N]){Object(k.h)(t);break}}}}else"Backspace"===n?""===l&&(a.includes(s)?Object(k.h)(t):i.forEach((e=>{if(e.originalState){const t=e.originalState.result.range;g(t,s)?t[N]-=1:s<t[B]&&(t[B]-=1,t[N]-=1)}}))):"Enter"===n&&i.forEach((e=>{if(e.originalState){const t=e.originalState.result.range;g(t,s)?t[N]+=1:s<t[B]&&(t[B]+=1,t[N]+=1)}}))}))}),[i]),bt=Object(x.useCallback)((()=>{se.current&&se.current.onDidChangeModelContent((e=>{const t=e.isRedoing,n=e.changes[0],o=n.text,r=n.range[B],c=n.range[N],a=i.length;if(e.isUndoing)for(let e=0;e<a;e++){const t=i[e].originalState;if(!t)continue;const n=t.result.range;if(""===o){1===Math.abs(r-c)&&(r>=n[B]&&c<=n[N]?n[N]-=1:c<n[B]&&(n[B]-=1,n[N]-=1))}else if(o===U[0]||o===U[1])r>=n[B]&&c<=n[N]?n[N]+=1:c<n[B]&&(n[B]+=1,n[N]+=1);else{const e=W(o).length-1;r>=n[B]&&c<=n[N]?n[N]+=e:c<n[B]&&(n[B]+=e,n[N]+=e)}}else if(t)for(let e=0;e<a;e++){const t=i[e].originalState;if(!t)continue;const n=t.result.range;if(""===o){const e=Math.abs(r-c);1===e&&(r>=n[B]&&c<=n[N]?n[N]-=e:c<n[B]&&(n[B]-=e,n[N]-=e))}else if(o===U[0]||o===U[1])r>=n[B]&&c<=n[N]?n[N]+=1:c<n[B]&&(n[B]+=1,n[N]+=1);else if(o.includes("\n")){const e=W(o).length-1;r>=n[B]&&c<=n[N]?n[N]+=e:c<n[B]&&(n[B]+=e,n[N]+=e)}}}))}),[i]);Object(x.useEffect)((()=>{ce.current&&ae.current&&se.current&&(ht(),gt(),pt(),bt())}),[V]);const mt=Object(x.useCallback)(((e,t)=>{const n=se.current;if(!n)return;const o=e[t].originalState,r=o.github,i=o.result.range,c=r[B],a=r[N],s=n.getValue();W(ee).slice(c-1,a).join("\n")===W(s).slice(i[B]-1,i[N]).join("\n")&&(o.acceptedFrom="github")}),[ee]),vt=Object(x.useCallback)(((e,t)=>{const{locofy:n}=e[t].originalState,{range:o}=e[t].originalState.result,{startLineNumber:r,endLineNumber:i}=n,c=se.current.getValue();W(ne).slice(r-1,i).join("\n")===W(c).slice(o[B]-1,o[N]).join("\n")&&(e[t].originalState.acceptedFrom="locofy")}),[ne]),yt=Object(x.useCallback)(((e,t)=>{const n=e[t].originalState,o=n.github,r=n.locofy,i=n.result.range,{[B]:c,[N]:a}=o,{[B]:s,[N]:l}=r,u=se.current.getValue(),f=W(ee).slice(c-1,a),d=W(ne).slice(s-1,l);f.concat(d).join("\n")===W(u).slice(i[B]-1,i[N]).join("\n")&&(n.acceptedFrom="github + locofy")}),[ee,ne]),Ct=Object(x.useCallback)(((e,t)=>{const n=e[t].originalState,o=n.github,r=n.locofy,i=n.result.range,{[B]:c,[N]:a}=o,{[B]:s,[N]:l}=r,u=se.current.getValue(),f=W(ee).slice(c-1,a);W(ne).slice(s-1,l).concat(f).join("\n")===W(u).slice(i[B]-1,i[N]).join("\n")&&(n.acceptedFrom="locofy + github")}),[ee,ne]),_t=Object(x.useCallback)(((e,t,n,o)=>{if(se.current&&o!==U[0]&&o!==U[1]&&W(o).length>1){const r=W(o).length-1,i=se.current.getSelection(),c=Math.abs(i[B]-i[N]),a=e[t].originalState.result.range;if(n<a[B])if(c>0){if(c<r){const e=Math.abs(c-r);e>0&&(a[B]+=e,a[N]+=e)}else if(c>r){const e=Math.abs(c-r);e>0&&(a[B]-=e,a[N]-=e)}}else a[B]+=r,a[N]+=r}}),[]),Ot=Object(x.useCallback)(((e,t,n)=>{if(se.current&&n!==U[0]&&n!==U[1]&&W(n).length>1){const o=W(n).length-1,r=se.current.getSelection(),i=Math.abs(r[B]-r[N]),c=e[t].originalState.result.range;if(i>0){if(i===o)e.forEach(((e,n)=>{if(e.isConflict&&n>t){const t=e.originalState.result.range;t[B]-=i,t[N]-=i}}));else if(i<o){const n=Math.abs(i-o);n>0&&(c[N]+=n,e.forEach(((e,r)=>{if(e.isConflict&&r>t){const t=e.originalState.result.range;t[B]-=o,t[N]-=o,t[B]+=n,t[N]+=n}})))}else if(i>o){const n=Math.abs(i-o);n>0&&(c[N]-=n,e.forEach(((r,i)=>{if(r.isConflict&&i>t){const t=e[i].originalState.result.range;t[B]-=o,t[N]-=o,t[B]-=n,t[N]-=n}})))}}else c[N]+=o}}),[]);Object(x.useEffect)((()=>{const e=ce.current,t=ae.current,n=se.current;if(!e||!t||!n||Object(C.Ib)(i))return;let o=0;const r=e.getDomNode(),c=t.getDomNode(),s=n.getDomNode(),l="mouseenter";let u,f,d;return r[w.a](l,u=()=>o=1),c[w.a](l,f=()=>o=1),s[w.a](l,d=()=>o=2),e.onDidScrollChange((r=>{const c=r.scrollTop;t.setScrollTop(c),r._oldScrollTop!==c&&1===o&&a(e,n,c,i,M,A)})),t.onDidScrollChange((t=>{t._oldScrollTop!==t.scrollTop&&e.setScrollTop(t.scrollTop)})),n.onDidScrollChange((t=>{const r=t.scrollTop;t._oldScrollTop!==r&&2===o&&a(n,e,r,i,A,M)})),()=>{r&&r[w.Q](l,u),c&&c[w.Q](l,f),s&&s[w.Q](l,d)}}),[V,i]);const jt=Object(x.useCallback)(((e,t,n)=>{e.forEach(((o,r)=>{const i=o.originalState;if(!o.isConflict||!i)return;if(g(i.result.range,t)){const t=i.acceptedFrom;t===y.Ic&&Ce(),"manual"!==t&&(i.acceptedFrom="manual"),Ot(e,r,n),mt(e,r),vt(e,r),yt(e,r),Ct(e,r)}else _t(e,r,t,n)}))}),[Ce,Ot,_t,mt,yt,vt,Ct]),wt=Object(x.useCallback)(((e,t)=>{if(ge.current)return;const n=t.changes[0],o=(n.range||{})[B];J(!0);t.isUndoing||t.isRedoing||jt(i,o,n.text),ue.current=e,me(),dt(),ve()}),[i,jt,dt,me,ve]),kt=Object(x.useCallback)((()=>{if(ce.current&&ae.current&&se.current){const e=[...Q],t=e.findIndex((e=>e.isSelected));let n=t;t<=0?n=0:t>0&&(e[t].isSelected=!1,n=t-1),e[n].isSelected=!0;const o={[B]:u(e,n,M),[N]:f(e,n,M),[I]:0},r={[B]:u(e,n,L),[N]:f(e,n,L),[I]:0},i={[B]:u(e,n,A),[N]:f(e,n,A),[I]:0};d(ce,o,o.scrollType),d(ae,r,r.scrollType),d(se,i,i.scrollType),q(e)}}),[Q]),xt=Object(x.useCallback)((()=>{if(ce.current&&ae.current&&se.current){const e=[...Q],t=e.findIndex((e=>e.isSelected));let n=t;t<0?n=0:t<e.length-1&&(e[t].isSelected=!1,n=t+1),e[n].isSelected=!0;const o={[B]:u(e,n,M),[N]:f(e,n,M),[I]:0},r={[B]:u(e,n,L),[N]:f(e,n,L),[I]:0},i={[B]:u(e,n,A),[N]:f(e,n,A),[I]:0};d(ce,o,o.scrollType),d(ae,r,r.scrollType),d(se,i,i.scrollType),q(e)}}),[Q]),St=Object(x.useCallback)((e=>{const t=window.innerHeight;e&&e>=185&&t-e>=135&&(he.current.style.flexBasis=t-e-10+"px")}),[]);return Object(x.useEffect)((()=>{const e=de.current;if(!e)return;let t=0;const n=w.e.body.style,o=e=>{t=e.clientY,St(t)},r=()=>{n.pointerEvents="auto",n.userSelect="auto",w.e[w.Q]("mousemove",o)},i=e=>{t=e.clientY,n.pointerEvents="none",n.userSelect="none",w.e[w.a]("mousemove",o),w.e[w.a]("mouseup",r)};return e[w.a]("mousedown",i),()=>{e[w.Q]("mousedown",i)}}),[St]),e(j.a,{className:T.a.codeEditorContainer},e(j.a,{h:!0,class:T.a.codeTop},e(j.a,{w100:!0,bg:"#0C0F17",class:T.a.left},e(E.a,{fileId:t,fileName:n?n.name:"",activeFileItem:n,type:"github"}),e(j.a,{class:`${T.a.codeLeft} codeview-en`},e(S.a,{key:be,editorRef:ce,type:be,code:ee,options:R,onUpdateRef:G}))),e(j.a,{w100:!0,bg:"#0C0F17",class:T.a.right},e(E.a,{fileId:t,fileName:n?n.name:"",activeFileItem:n,type:"local"}),e(j.a,{class:`${T.a.codeRight} codeview-en`},e(S.a,{editorRef:ae,type:be,code:ne,options:R,onUpdateRef:G})))),e(j.a,{bg:"#0C0F17",className:T.a.topBorder,vref:he},e("button",{ref:de,class:T.a.draggableBar}),e(E.a,{fileId:t,fileName:n?n.name:"",type:"result",activeFileItem:n,resultCodeEditorRef:se,totalConflictsInFile:K,onPrevClick:kt,onNextClick:xt,updateUI:Y}),e(j.a,{relative:!0,class:`${T.a.codeBottom} codeview-en`},e(S.a,{editorRef:se,type:be,code:re,onChange:wt,options:r(r({},R),{},{readOnly:!1,autoIndent:"none",formatOnPaste:!1,formatOnType:!1,suggestOnTriggerCharacters:!1,acceptSuggestionOnCommitCharacter:!1,acceptSuggestionOnEnter:"off",autoClosingBrackets:"never",autoClosingDelete:"never",autoClosingOvertype:"never",autoClosingQuotes:"never",lightbulb:{enabled:!1},quickSuggestions:{comments:!1,other:!1,strings:!1}}),onUpdateRef:G}))),o>0?e(_.a,{content:"Resolve conflicts for all files first before pushing",placement:"top"},e("button",{className:v()(T.a.completeMergeButton,T.a.disabledCompleteMergeButton)},e(j.c,{src:"/assets/studio/icon/icon_complete_merge.svg",mr:6,style:{opacity:.4}}),e("div",{className:v()(T.a.completeMergeButtonText,T.a.disabledCompleteMergeButtonText)},"Complete Merge & Push"))):e("button",{className:v()(T.a.completeMergeButton),onClick:m},e(j.c,{src:"/assets/studio/icon/icon_complete_merge.svg",mr:6}),e("div",{className:v()(T.a.completeMergeButtonText)},"Complete Merge & Push")),0===o&&e("div",{className:T.a.conflictsResolvedNotification},e(j.c,{src:"/assets/images/icons/tick.svg",height:16,mr:10}),e("div",{className:T.a.conflictsResolvedText},"Conflicts have been resolved")))}}).call(this,n("hosL").h)},"PKZ/":function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){const n=Object(f.diffLines)(e,t),o=[];let r,i=0,c=0;for(const e of n)e.removed?r={old:{start:i,length:e.count},new:{start:c,length:0}}:e.added?(void 0===r?r={old:{start:i,length:0},new:{start:c,length:e.count}}:r.new={start:c,length:e.count},o.push(r),r=void 0):r&&(o.push(r),r=void 0),i+=e.added?0:e.count,c+=e.removed?0:e.count;return r&&o.push(r),o}function a(e,t,n){return function(e,t,n,o,i){const c=[...e.map((e=>r({type:"a"},e))),...t.map((e=>r({type:"b"},e)))];c.sort(((e,t)=>e.old.start-t.old.start));const a=[];let s=0;const l=e=>{e>s&&(a.push({isConflict:!1,type:"o",hunk:{start:s,length:e-s}}),s=e)};for(;c.length;){const e=c.shift(),t=e.old.start;let r=e.old.start+e.old.length;const u=[e];for(l(t);c.length;){const e=c[0],t=e.old.start;if(t>r)break;r=Math.max(r,t+e.old.length),u.push(c.shift())}if(1===u.length)a.push({isConflict:!1,type:e.type,hunk:e.new,oHunk:e.old});else{const e={a:[n,-1,i,-1],b:[o,-1,i,-1]};for(;u.length;){const t=u.shift(),n=t.old.start,o=n+t.old.length,r=t.new.start,i=r+t.new.length,c=e[t.type];c[0]=Math.min(r,c[0]),c[1]=Math.max(i,c[1]),c[2]=Math.min(n,c[2]),c[3]=Math.max(o,c[3])}const c=e.a[0]+(t-e.a[2]),s=e.b[0]+(t-e.b[2]);a.push({isConflict:!0,o:{start:t,length:r-t},a:{start:c,length:e.a[1]+(r-e.a[3])-c},b:{start:s,length:e.b[1]+(r-e.b[3])-s}})}s=r}return l(i),a}(c(n,e),c(n,t),e.split("\n").length,t.split("\n").length,n.split("\n").length)}function s(e){const t=e.split(".");return t[t.length-1]}function l(e){return e.split(/\r?\n/).join("\n")}function u(e){return e.filter((e=>!e.prev&&!e.latest)).map((e=>e.content)).join("\n")}n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var f=n("0u3c");const d=async(e,t,n,o="")=>{if(function(e){switch(s(e).toLowerCase()){case"jpg":case"gif":case"bmp":case"png":case"svg":return!0}return!1}(o)||function(e){switch(s(e).toLowerCase()){case"m4v":case"avi":case"mpg":case"mp4":return!0}return!1}(o))return;const r=l(e||""),i=l(t||""),c=l(n||"");if(!c&&r==i)return[{content:t,latest:null,prev:null,isConflict:!1,locoContent:null,remoteContent:null,isRemoteContent:!1,isLocoContent:!1}];const u=function(e){let t=0,n=0;for(let o=0;o<e.length;o++){const r=e[o];!0===r.isConflict?(t+=r.a.length,n+=r.b.length):"o"===r.type?(t+=r.hunk.length,n+=r.hunk.length):"a"===r.type?(r.hunk.length<r.oHunk.length?r.aDiff={startLineNumber:r.hunk.start+r.hunk.length,endLineNumber:r.hunk.start+r.oHunk.length-1}:r.hunk.length>r.oHunk.length&&(r.bDiff={startLineNumber:n+r.oHunk.length+1,endLineNumber:n+r.hunk.length}),t+=r.hunk.length,n+=r.oHunk.length):(r.hunk.length<r.oHunk.length?r.bDiff={startLineNumber:r.hunk.start+r.hunk.length,endLineNumber:r.hunk.start+r.oHunk.length-1}:r.hunk.length>r.oHunk.length&&(r.aDiff={startLineNumber:t+r.oHunk.length+1,endLineNumber:t+r.hunk.length}),n+=r.hunk.length,t+=r.oHunk.length)}return e}(a(r,i,c)),f=r.split("\n"),d=i.split("\n"),h=c.split("\n"),g=u.map((e=>function(e,t,n,o){const r=(e,r)=>("a"===e?t:"b"===e?n:o).slice(r.start,r.start+r.length).join("\n");if(!1===e.isConflict){const t="b"===e.type,n="a"===e.type,o=r(e.type,e.hunk),i=[];if(e.hunk.length>0&&i.push({content:o,isConflict:!1,remoteContent:t?o:null,locoContent:n?o:null,isRemoteContent:t,isLocoContent:n,latest:null,prev:null}),(t||n)&&e.oHunk.length>0){const o=r("o",e.oHunk);i.push({content:o,isConflict:!1,remoteContent:null,locoContent:null,isRemoteContent:!1,isLocoContent:!1,latest:!!t||null,prev:!!n||null})}const c=i[i.length-1];return e.aDiff&&(c.locofyDiff=e.aDiff),e.bDiff&&(c.githubDiff=e.bDiff),i}const i=r("a",e.a),c=r("b",e.b);return[{content:`<<<<<<< HEAD\n${i}\n=======\n${c}\n>>>>>>> New-HEAD`,isConflict:!0,locoContent:i,remoteContent:c,isRemoteContent:!0,isLocoContent:!0,latest:null,prev:null}]}(e,f,d,h))).flat();return g}},PjCc:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"GithubFlow",(function(){return m}));var o=n("8Jek"),r=n.n(o),i=n("CmOr"),c=n("folm"),a=n("rfoC"),s=n("2tLp"),l=n("QRet"),u=n("QiP5"),f=n("aZW+"),d=n("6v9m"),h=n("9aU8"),g=n("ZzYk"),p=n("wEHB"),b=n("A5J+");const m=({onCodeRegen:t,exportStart:n,showExpiryModal:o})=>{const[m,v]=Object(f.c)(d.X,!1),[y]=Object(f.c)(d.xb,!1),[C]=Object(f.c)(d.wb,!1),[_,O]=Object(f.c)(d.fb,!1),j=Object(l.a)((()=>{v(!m)}),[m,v]),w=Object(l.a)((()=>{O(!_)}),[_,O]),k=Object(l.a)(((e,t,o)=>{setTimeout((async()=>{const r=Object(c.h)(i.ee),a=await Object(s.b)(null==r?void 0:r[i.pd]);n(e,t,o,a)}),100)}),[n]);return e(a.a,null,e(u.a,{open:m,modalClass:b.a.commitHistoryModal,modalContentClass:b.a.commitHistoryModal,customOverlayClass:b.a.commitHistoryModalOverlay,bodyClass:b.a.commitHistoryBody},e(h.a,{toggleModal:j})),e(u.a,{open:y,customOverlayClass:r()(b.a.githubModalOverlay,{[b.a.githubModalTransparentOverlay]:C}),modalContentClass:r()(b.a.exportModal,b.a.githubModal),onClose:()=>{},size:"full"},e(p.a,{showExpiryModal:e=>o(e),onCodeRegen:t,exportStart:(e,t,n)=>k(e,t,n)})),e(u.a,{open:_,modalClass:b.a.githubConflictResolutionModal,modalContentClass:b.a.githubConflictResolutionContent,bodyClass:b.a.githubConflictResolutionBody,customOverlayClass:r()(b.a.githubModalOverlay,{[b.a.githubModalTransparentOverlay]:C})},e(g.a,{showExpiryModal:e=>o(e),exportStart:(e,t,n)=>k(e,t,n),toggleModal:w})))}}.call(this,n("hosL").h)},TLRm:function(e,t,n){"use strict";(function(e,o){var r=n("8Jek"),i=n.n(r),c=n("CmOr"),a=n("S3S6"),s=n("kpBu"),l=n("uXW1"),u=n("rfoC"),f=n("l8WD"),d=n("LXLg"),h=n("5GD2"),g=n("aZW+"),p=n("6v9m"),b=n("MPO6"),m=n("krxD");t.a=({cleanCode:t,activeFileItem:n,totalConflicts:r,openConflictedFile:v,onCompleteMerge:y,hadConflicts:C})=>{const[_]=Object(g.c)(p.vb,!0),[O]=Object(g.c)(p.Jb),[j]=Object(g.c)(p.pc,[]),[w,k]=Object(f.useState)(""),[x,S]=Object(f.useState)(""),E=n&&n[c.ge],T=n&&n[c.hh],R=d.b.includes(E),B=d.c.includes(E),N=d.c.includes(E)&&"svgImage"===T,I=!R&&!B,P="css"===E||"module.css"===E?"css":"html"===E?"html":"typescript",[L]=Object(g.c)(p.x),[M,A]=Object(f.useState)(!0),H=Object(f.useRef)(0);Object(f.useEffect)((()=>(0===r&&M&&C&&(clearTimeout(H.current),H.current=setTimeout((()=>A(!1)),3e3)),()=>{clearTimeout(H.current)})),[C,M,r]),Object(f.useEffect)((()=>{var e;if(_)return;if(!n)return;let t=(null==n||null===(e=n[c.de])||void 0===e?void 0:e[c.Ed])||(null==n?void 0:n[c.Fd]);var o,r;("module.css"!==E&&"css"!==E||(t=n[c.de][c.Jd]||n[c.Jd]),(R||N)&&t)?S("css"===n[c.ge]||"module.css"===n[c.ge]?Object(a.R)((null==n||null===(o=n[c.de])||void 0===o?void 0:o[c.Jd])||(null==n?void 0:n[c.Jd]),E,!1):Object(a.R)((null==n||null===(r=n[c.de])||void 0===r?void 0:r[c.Ed])||(null==n?void 0:n[c.Fd]),E,!1)):B&&null!=n&&n[c.Fd]&&n[c.Fd][s.cf]?S(n[c.Fd][s.cf]):I||n[c.Fd]||n[c.tg]||!n[c.De]||(async()=>{const e=await n[c.De](n);if("string"==typeof e)S(Object(a.R)(e,E,!1));else{const t=URL.createObjectURL(e);S(t)}})().catch((e=>console.log(e)))}),[n,E,I,_,B,N,R]),Object(f.useEffect)((()=>{if(!n)return;const e=(O||[]).find((e=>e[c.Pe]===n[c.Pe]));k(e&&e.is_conflict?"conflict":e&&e.untracked?"untracked":e&&!e.locofy_file_v2?"deleted":e&&e.merge?"modified":"")}),[n,O]);const D=null==j?void 0:j.some((e=>e[c.Pe]===(null==n?void 0:n[c.Pe])));return e(u.a,{className:m.a.center},n&&e(u.a,{className:m.a.codeContainer},e(u.a,{className:m.a.filenameContainer},e(u.a,{class:i()(m.a.filename,{[m.a[w]]:w})},e(u.c,{src:Object(h.d)(n[c.Pf],n[c.ge]),width:16,mr:6}),n[c.Pf],w&&e(u.a,{className:m.a.fileStatusText},w.split("")[0].toUpperCase())),n&&r>0&&!D&&e(u.a,{h:!0,vc:!0},e("button",{className:m.a.resolveConflictedFiles,onClick:v},e("div",{className:m.a.resolveConflictedFilesText},"Resolve conflicted files"),e(u.c,{src:"/assets/icons/right-chevron-blue.svg",width:"6px",ml:"6px"}))),n&&r>0&&D&&e(u.a,{h:!0,vc:!0},e(u.a,{class:m.a.resolvedFilesText,mr:12},"This file has been marked as resolved!"),e("button",{className:i()(m.a.resolveConflictedFiles,m.a.bordered),onClick:v},e("div",{className:m.a.resolveConflictedFilesText},"Resolve next file"),e(u.c,{src:"/assets/icons/right-right-blue.svg",ml:"6px"}))),n&&!r&&C&&e(u.a,{h:!0,vc:!0,mr:"22px"},e("div",{className:m.a.resolvedFilesText},"Conflicts on all files have been resolved!"),e("button",{className:m.a.resolvedFilesButton,onClick:y},e("div",{className:m.a.resolvedFilesButtonText},"Complete Merge & Push"),e(u.c,{src:"/assets/icons/right-right-green.svg"})))),!_&&R&&!n[c.tg]&&e(b.a,{key:P,code:t||x,type:P,loading:e(u.a,{class:i()(m.a.loading,m.a.inEditor)},[...Array(50)].map(((t,n)=>e(u.a,{class:m.a.loadingRow,key:n,width:`${Math.floor(380*Math.random()+120)}px`}))))}),B&&N&&!n[c.tg]&&e(o,null,e("div",{class:m.a.imageContainer,dangerouslySetInnerHTML:{__html:x}})),B&&!N&&!n[c.tg]&&e(u.a,{class:m.a.imageContainer},e(u.c,{src:x})),(I||n[c.tg])&&e(u.a,{class:m.a.imageContainer},e(u.a,{class:m.a.noPreview},e(u.a,{class:m.a.noPreviewImage},e(u.c,{src:"/assets/not-available-eye.svg",size:22})),e(u.e,{color:"#fff",fs:14,b:!0,lineHeight:"18px",mb:6},"No preview available"),e(u.e,{color:"#96A2BE",fs:12,lineHeight:"18px"},"This file is not displayed because it is either binary or uses unsupported text coding.")))),n&&(r>0?e(l.a,{content:"Resolve conflicts for all files first before pushing",placement:"top"},e("button",{className:i()(m.a.completeMergeButton,m.a.disabledCompleteMergeButton)},e(u.c,{src:L?"/assets/studio/icon/icon_complete_merge.svg":"/assets/studio/icon/icon_github.svg",mr:"6px",style:{opacity:.4}}),e("div",{className:i()(m.a.completeMergeButtonText,m.a.disabledCompleteMergeButtonText)},L?"Complete Merge & Push":"Push to Github"))):e("button",{className:i()(m.a.completeMergeButton),onClick:y},e(u.c,{src:L?"/assets/studio/icon/icon_complete_merge.svg":"/assets/studio/icon/icon_github.svg",mr:"6px"}),e("div",{className:i()(m.a.completeMergeButtonText)},L?"Complete Merge & Push":"Push to Github"))),0===r&&C&&M&&e("div",{className:m.a.conflictsResolvedNotification},e(u.c,{src:"/assets/images/icons/tick.svg",height:"16px",mr:"10px"}),e("div",{className:m.a.conflictsResolvedText},"Conflicts have been resolved")))}}).call(this,n("hosL").h,n("hosL").Fragment)},ZzYk:function(e,t,n){"use strict";(function(e,o){function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}var i=n("CmOr"),c=n("S3S6"),a=n("NGVL"),s=n("rfoC"),l=n("ElAP"),u=n("Vp0P"),f=n("l8WD"),d=n("5GD2"),h=n("aZW+"),g=n("6v9m"),p=n("iJbY"),b=n("TLRm"),m=n("LGi0"),v=n("+GUh");t.a=({toggleModal:t,exportStart:n,showExpiryModal:r})=>{var C;const[_,O]=Object(f.useState)(!0),[j,w]=Object(f.useState)(!1),[k,x]=Object(f.useState)([]),[S,E]=Object(f.useState)(""),[T,R]=Object(f.useState)(""),[B,N]=Object(f.useState)(null),[I]=Object(h.c)(g.hc),[P,L]=Object(f.useState)(""),[M,A]=Object(f.useState)(""),[H]=Object(h.c)(g.Pb),[D]=Object(h.c)(g.mc),[F]=Object(h.c)(g.zc),[U]=Object(h.c)(g.W),[W]=Object(h.c)(g.uc),[z]=Object(h.c)(g.Ob),[Y]=Object(h.c)(g.M,{}),[Z]=Object(h.c)(g.cb,[]),[V]=Object(h.c)(g.w,[]),G=(null==V?void 0:V.filter((e=>!(null!=Z&&Z.some((t=>t[i.Pe]===e[i.Pe]))))))||[],[X]=Object(f.useState)(!!G.length),J=null==Y||null===(C=Y[i.sc])||void 0===C?void 0:C[i.Xd],K={children:y(J[i.pd],Z)},[$]=Object(h.c)(g.Jb,[]),[,Q]=Object(h.c)(g.xb),[,q]=Object(h.c)(g.wb,!1),[,ee]=Object(h.c)(g.Y),[te]=Object(h.c)(g.yc,"screen_component"),[ne]=Object(h.c)(g.T),[oe]=Object(h.c)(g.x),[re,ie]=Object(f.useState)(!1),[ce,ae]=Object(f.useState)(null),[se,le]=Object(f.useState)(null),ue=Object(f.useRef)(!1);Object(f.useEffect)((()=>{if(!$)return;const e=$.filter((e=>e.is_conflict&&G.some((t=>t[i.Pe]===e[i.Pe]))))||[];let t=0;for(const n of e)for(const e of n[i.Cd])e.isConflict&&t++;ue.current||(Object(a.J)(null==e?void 0:e.length,t),ue.current=!0)}),[$]),Object(f.useEffect)((()=>{var e,t;const n=(null===(e=D[F])||void 0===e?void 0:e.title)||H,o=(null===(t=U[W])||void 0===t?void 0:t.value)||z||"main";L(n),A(o)}),[U,z,H,D,W,F]);const fe=Object(f.useCallback)((e=>{const t={project_id:I,repo_name:H};Object(l.eb)(t).then((t=>{e(null==t?void 0:t.data)})).catch((()=>{Q(!1),ee({[p.d]:1}),q(!0)}))}),[H,I,ee,q,Q]),de=Object(f.useCallback)((()=>{if(ne<1){let e="";return e="builder_deploy_expiry_popup",void r(e)}let e=Y.pages;e=Object(c.Xc)(e);H?fe((t=>{n(e,te,null==t?void 0:t.name)})):n(e,te,P)}),[fe,Y.pages,n,ne,H,te,P,r]),he=Object(f.useCallback)(((e,t,n)=>{null==e||e.every((e=>{var o;return e[i.Pe]===t.id?(R(t.id),N(e),O(n),w(n),x(t.conflicts),!1):((null===(o=e[i.pd])||void 0===o?void 0:o.length)>0&&he(e[i.pd],t,n),!0)}))}),[]),ge=Object(f.useCallback)((e=>{null==e||e.every((e=>{var t;return e[i.Hh]!==i.ke||e[i.tg]?((null===(t=e[i.pd])||void 0===t?void 0:t.length)>0&&ge(e[i.pd]),!0):(R(""),N(e),O(!1),w(!1),x([]),!1)}))}),[]);Object(f.useEffect)((()=>{const e=$.find((e=>e.is_conflict&&G.some((t=>t[i.Pe]===e[i.Pe]))));e?he(K.children,e,!0):B||ge(K.children)}),[V]);const pe=Object(f.useCallback)((e=>{if((null==e?void 0:e[i.Hh])===i.ke){const t=null==e?void 0:e[i.Pe],n=$.find((e=>(null==e?void 0:e[i.Pe])===t));n&&(n.is_conflict&&n.is_conflict?(O(!1),setTimeout((()=>{O(!0)}),10),w(!0),R(n[i.Pe]),x(n.conflicts)):(w(!1),E(n.clean_content)))}}),[$]),be=Object(f.useCallback)((()=>{const e=$.find((e=>e.is_conflict));e&&he(K.children,e,!0)}),[K.children,he,$]),me=Object(f.useCallback)((e=>{O(!1),w(!1),E($[e].clean_content)}),[$]),ve=Object(f.useCallback)((()=>{t(),Q(!1)}),[Q,t]),ye=Object(f.useCallback)((e=>{ie(!0),ae(e)}),[]),Ce=Object(f.useCallback)((()=>{ie(!1),ae(null),le(null)}),[]),_e=Object(f.useCallback)((e=>{e&&(pe(e),N(e),le(e),ie(!1),ae(null))}),[pe]);return e(o,null,e(s.a,{className:v.a.header},e(s.a,{h:!0},e(s.c,{src:"/assets/studio/icon/icons_locofy_to_github.svg",mr:"16px"}),e(s.a,{bc:"#232B3B"}),e(s.a,{v:!0,ml:"16px"},e("div",{className:v.a.heading},oe?"Resolve Code Conflicts":"Review your files"),e("div",{className:v.a.subheading},oe?"There are some conflicts found in your files. Please resolve these before pushing to Github.":"Review all your files before pushing to Github"))),e(s.a,{h:!0,vc:!0},e("div",{className:v.a.repoInfoText},"Repository ",e("span",{className:v.a.repoInfoSpanText},P)," ",e("span",{className:v.a.repoInfoSpanText},"/")," Branch"," ",e("span",{className:v.a.repoInfoSpanText},M)),e("div",{className:v.a.editText,onClick:ve},"Edit"),e("button",{class:v.a.closeButton,onClick:t},e(s.c,{src:"/assets/studio/close-modal-blue.svg"})))),e(s.a,{h:!0,class:v.a.body},e(s.a,{class:v.a.fileExplorerWrapper},e(d.a,{mergeCompare:!0,conflictResolve:!0,heading:"Explorer",data:K,children:null==K?void 0:K[i.pd],onItemClick:pe,activeFileItem:B,setActiveFileItem:N,uncheckedItems:Z,isFileConflicted:j,handleItemClickWithWarning:ye,itemSelectedFromConflict:se})),j?_&&e(m.a,{mergePathFileId:T,activeFileItem:B,totalConflicts:Object(c.bc)(G),codeBlocks:k,updateUI:me,onCompleteMerge:de}):e(b.a,{cleanCode:S,totalConflicts:Object(c.bc)(G),activeFileItem:B,openConflictedFile:be,onCompleteMerge:de,hadConflicts:X})),re&&e(s.a,{class:v.a.unresolvedWarning,onClick:Ce},e(s.a,{class:v.a.unresolvedWarningInner,onClick:e=>Object(u.z)(e)},e(s.c,{class:v.a.unresolvedWarningImage,src:"/assets/studio/unresolved-warning.svg",width:95,mb:18}),e(s.a,{class:v.a.unresolvedWarningText},e(s.e,{fs:14,color:"#ffffff",mb:4,class:v.a.unresolvedWarningHeading},"You have not resolved this file"),e(s.e,{fs:12,color:"#96A2BE",mb:24,lineHeight:"18px"},"Are you sure you want to leave this file without marking as resolved?")),e(s.a,{class:v.a.unresolvedWarningBtns},e("button",{class:v.a.cancelWarning,onClick:Ce},"Cancel"),e("button",{class:v.a.yesWarning,onClick:()=>_e(ce)},"Yes")),e("button",{class:v.a.closeWarning,onClick:Ce},e(s.c,{src:"/assets/studio/icon/icon_close.svg"})))))};const y=(e,t)=>e.reduce(((e,n)=>{const o=n[i.Hh]===i.Wd,a=n[i.pd];if(!o&&t.some((e=>e[i.Pe]===n[i.Pe])))return e;if(o&&(Object(c.bc)(a)<1||a.every((e=>t.some((t=>t[i.Hh]===i.ke&&t[i.Pe]===e[i.Pe]||t[i.Hh]===i.Wd&&Object(d.c)(e)===t[i.Pe]))))))return e;const s=Array.isArray(a)?r({},n,{[i.pd]:y(a,t)}):n;return e.push(s),e}),[])}).call(this,n("hosL").h,n("hosL").Fragment)},i4pj:function(e,t){"use strict";t.a={robotoFont:"'Roboto', sans-serif",monoFontStack:"'Source Code Pro', monospace",locofyGreen:"#4fc786",codeEditorContainer:"codeEditorContainer__jiKPi",codeTop:"codeTop__HRivh",left:"left__Pr1zm",right:"right__0xzIb",codeLeft:"codeLeft__BgCzO",codeRight:"codeRight__zXNMl",codeBottom:"codeBottom__9PiTW",topBorder:"topBorder__b2lKK",draggableBar:"draggableBar__kbixL",backgroundColor:"backgroundColor__OCSDC",borderTop:"borderTop__TM3WY",borderBottom:"borderBottom__VcRK9",borderLeft:"borderLeft__cK5Vg",borderRight:"borderRight__SHeWf",emptyLine:"emptyLine__AMDNO",buttonsContainer:"buttonsContainer__KXDpK",changesButton:"changesButton__qTVv5",noChangesAcceptedText:"noChangesAcceptedText__XlRE1",divider:"divider__-qOwP",completeMergeButton:"completeMergeButton__Xr4m8",disabledCompleteMergeButton:"disabledCompleteMergeButton__RiyEe",completeMergeButtonText:"completeMergeButtonText__yD2Xa",disabledCompleteMergeButtonText:"disabledCompleteMergeButtonText__ZyYdx",conflictsResolvedNotification:"conflictsResolvedNotification__IwilS",conflictsResolvedText:"conflictsResolvedText__ppiDt"}},krxD:function(e,t){"use strict";t.a={locofyGreen:"#4fc786",errorColor:"#f4596c",locofyBlue:"#457eff",robotoFont:"'Roboto', sans-serif",center:"center__Nfxw1",codeContainer:"codeContainer__7YRHN",filenameContainer:"filenameContainer__xLUFu",filename:"filename__WQ-Pw",nameInner:"nameInner__O+gEC",untracked:"untracked__fgJ1V",deleted:"deleted__CE8Df",modified:"modified__DD8nV",conflict:"conflict__5aWLA",mixed:"mixed__NUe10",fileStatusText:"fileStatusText__ZY7pv",resolveConflictedFiles:"resolveConflictedFiles__2zRBn",bordered:"bordered__xXsis",resolveConflictedFilesText:"resolveConflictedFilesText__7khXY",resolvedFilesText:"resolvedFilesText__ldy8s",resolvedFilesButton:"resolvedFilesButton__bJ+VL",resolvedFilesButtonText:"resolvedFilesButtonText__IEZDh",imageContainer:"imageContainer__CeF1v",noPreview:"noPreview__C+pmB",noPreviewImage:"noPreviewImage__CLaMv",completeMergeButton:"completeMergeButton__PEvWk",disabledCompleteMergeButton:"disabledCompleteMergeButton__ZiwQ7",completeMergeButtonText:"completeMergeButtonText__Nvs5z",disabledCompleteMergeButtonText:"disabledCompleteMergeButtonText__tdU3A",conflictsResolvedNotification:"conflictsResolvedNotification__ntHC5",showresolvednotif:"showresolvednotif__DbyDO",conflictsResolvedText:"conflictsResolvedText__dr8Ef",loading:"loading__+OazH",inEditor:"inEditor__sdkAp",loadingRow:"loadingRow__leQ53",reviewpreviewloading:"reviewpreviewloading__Ftwyi"}},"nw/Z":function(e,t){"use strict";t.a={robotoFont:"'Roboto', sans-serif",locofyBlue:"#457eff",sourceText:"sourceText__GMLlx",fileName:"fileName__S7y+6",changed:"changed__14t1h",sourceName:"sourceName__8Dupi",totalConflicts:"totalConflicts__VjFr3",seperator:"seperator__gqgvO",navigationButtons:"navigationButtons__GsBdO",prevButton:"prevButton__oK1ou",button:"button__fVP0N",disabledButton:"disabledButton__nAuQ6"}},qykS:function(e,t,n){"use strict";(function(e){function o(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=i.prototype:(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return s(this,e)}return c(this,e,t,n)}function c(e,t,n,o){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,o){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,n):new Uint8Array(t,n,o);i.TYPED_ARRAY_SUPPORT?(e=t).__proto__=i.prototype:e=l(e,t);return e}(e,t,n,o):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|f(t,n),c=(e=r(e,o)).write(t,n);c!==o&&(e=e.slice(0,c));return e}(e,t,n):function(e,t){if(i.isBuffer(t)){var n=0|u(t.length);return 0===(e=r(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(o=t.length)!=o?r(e,0):l(e,t);if("Buffer"===t.type&&U(t.data))return l(e,t.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function s(e,t){if(a(t),e=r(e,t<0?0:0|u(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t){var n=t.length<0?0:0|u(t.length);e=r(e,n);for(var o=0;o<n;o+=1)e[o]=255&t[o];return e}function u(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return A(e).length;default:if(o)return M(e).length;t=(""+t).toLowerCase(),o=!0}}function d(e,t,n){var o=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return j(this,t,n);case"ascii":return w(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,n);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function h(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function g(e,t,n,o,r){if(0===e.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=i.from(t,o)),i.isBuffer(t))return 0===t.length?-1:p(e,t,n,o,r);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):p(e,[t],n,o,r);throw new TypeError("val must be string, number or Buffer")}function p(e,t,n,o,r){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var c,a=1,s=e.length,l=t.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}if(r){var u=-1;for(c=n;c<s;c++)if(i(e,c)===i(t,-1===u?0:c-u)){if(-1===u&&(u=c),c-u+1===l)return u*a}else-1!==u&&(c-=c-u),u=-1}else for(n+l>s&&(n=s-l),c=n;c>=0;c--){for(var f=!0,d=0;d<l;d++)if(i(e,c+d)!==i(t,d)){f=!1;break}if(f)return c}return-1}function b(e,t,n,o){n=Number(n)||0;var r=e.length-n;o?(o=Number(o))>r&&(o=r):o=r;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");o>i/2&&(o=i/2);for(var c=0;c<o;++c){var a=parseInt(t.substr(2*c,2),16);if(isNaN(a))return c;e[n+c]=a}return c}function m(e,t,n,o){return H(M(t,e.length-n),e,n,o)}function v(e,t,n,o){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,o)}function y(e,t,n,o){return v(e,t,n,o)}function C(e,t,n,o){return H(A(t),e,n,o)}function _(e,t,n,o){return H(function(e,t){for(var n,o,r=[],i=0;i<e.length&&!((t-=2)<0);++i)o=(n=e.charCodeAt(i))>>8,r.push(n%256),r.push(o);return r}(t,e.length-n),e,n,o)}function O(e,t,n){return D.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function j(e,t,n){n=Math.min(e.length,n);for(var o=[],r=t;r<n;){var i,c,a,s,l=e[r],u=null,f=l>239?4:l>223?3:l>191?2:1;if(r+f<=n)switch(f){case 1:l<128&&(u=l);break;case 2:128==(192&(i=e[r+1]))&&(s=(31&l)<<6|63&i)>127&&(u=s);break;case 3:c=e[r+2],128==(192&(i=e[r+1]))&&128==(192&c)&&(s=(15&l)<<12|(63&i)<<6|63&c)>2047&&(s<55296||s>57343)&&(u=s);break;case 4:c=e[r+2],a=e[r+3],128==(192&(i=e[r+1]))&&128==(192&c)&&128==(192&a)&&(s=(15&l)<<18|(63&i)<<12|(63&c)<<6|63&a)>65535&&s<1114112&&(u=s)}null===u?(u=65533,f=1):u>65535&&(o.push((u-=65536)>>>10&1023|55296),u=56320|1023&u),o.push(u),r+=f}return function(e){var t=e.length;if(t<=W)return String.fromCharCode.apply(String,e);var n="",o=0;for(;o<t;)n+=String.fromCharCode.apply(String,e.slice(o,o+=W));return n}(o)}function w(e,t,n){var o="";n=Math.min(e.length,n);for(var r=t;r<n;++r)o+=String.fromCharCode(127&e[r]);return o}function k(e,t,n){var o="";n=Math.min(e.length,n);for(var r=t;r<n;++r)o+=String.fromCharCode(e[r]);return o}function x(e,t,n){var o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var r="",i=t;i<n;++i)r+=L(e[i]);return r}function S(e,t,n){for(var o=e.slice(t,n),r="",i=0;i<o.length;i+=2)r+=String.fromCharCode(o[i]+256*o[i+1]);return r}function E(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,n,o,r,c){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<c)throw new RangeError('"value" argument is out of bounds');if(n+o>e.length)throw new RangeError("Index out of range")}function R(e,t,n,o){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-n,2);r<i;++r)e[n+r]=(t&255<<8*(o?r:1-r))>>>8*(o?r:1-r)}function B(e,t,n,o){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-n,4);r<i;++r)e[n+r]=t>>>8*(o?r:3-r)&255}function N(e,t,n,o){if(n+o>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(e,t,n,o,r){return r||N(e,0,n,4),F.write(e,t,n,o,23,4),n+4}function P(e,t,n,o,r){return r||N(e,0,n,8),F.write(e,t,n,o,52,8),n+8}function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function M(e,t){var n;t=t||1/0;for(var o=e.length,r=null,i=[],c=0;c<o;++c){if((n=e.charCodeAt(c))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(c+1===o){(t-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function A(e){return D.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,o){for(var r=0;r<o&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}var D=n("KlUR"),F=n("FaXh"),U=n("Hb73");t.Buffer=i,t.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return c(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return function(e,t,n,o){return a(t),t<=0?r(e,t):void 0!==n?"string"==typeof o?r(e,t).fill(n,o):r(e,t).fill(n):r(e,t)}(null,e,t,n)},i.allocUnsafe=function(e){return s(null,e)},i.allocUnsafeSlow=function(e){return s(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,o=t.length,r=0,c=Math.min(n,o);r<c;++r)if(e[r]!==t[r]){n=e[r],o=t[r];break}return n<o?-1:o<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!U(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=i.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var c=e[n];if(!i.isBuffer(c))throw new TypeError('"list" argument must be an Array of Buffers');c.copy(o,r),r+=c.length}return o},i.byteLength=f,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?j(this,0,e):d.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,o,r){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===o&&(o=0),void 0===r&&(r=this.length),t<0||n>e.length||o<0||r>this.length)throw new RangeError("out of range index");if(o>=r&&t>=n)return 0;if(o>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var c=(r>>>=0)-(o>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(c,a),l=this.slice(o,r),u=e.slice(t,n),f=0;f<s;++f)if(l[f]!==u[f]){c=l[f],a=u[f];break}return c<a?-1:a<c?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},i.prototype.write=function(e,t,n,o){if(void 0===t)o="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)o=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var i=!1;;)switch(o){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var W=4096;i.prototype.slice=function(e,t){var n,o=this.length;if((e=~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),(t=void 0===t?o:~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),t<e&&(t=e),i.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=i.prototype;else{var r=t-e;n=new i(r,void 0);for(var c=0;c<r;++c)n[c]=this[c+e]}return n},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var o=this[e],r=1,i=0;++i<t&&(r*=256);)o+=this[e+i]*r;return o},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var o=this[e+--t],r=1;t>0&&(r*=256);)o+=this[e+--t]*r;return o},i.prototype.readUInt8=function(e,t){return t||E(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||E(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||E(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var o=this[e],r=1,i=0;++i<t&&(r*=256);)o+=this[e+i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var o=t,r=1,i=this[e+--o];o>0&&(r*=256);)i+=this[e+--o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||E(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||E(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||E(e,4,this.length),F.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||E(e,4,this.length),F.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||E(e,8,this.length),F.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||E(e,8,this.length),F.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,o){(e=+e,t|=0,n|=0,o)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[t]=255&e;++i<n&&(r*=256);)this[t+i]=e/r&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,o){(e=+e,t|=0,n|=0,o)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t|=0,!o){var r=Math.pow(2,8*n-1);T(this,e,t,n,r-1,-r)}var i=0,c=1,a=0;for(this[t]=255&e;++i<n&&(c*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/c>>0)-a&255;return t+n},i.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t|=0,!o){var r=Math.pow(2,8*n-1);T(this,e,t,n,r-1,-r)}var i=n-1,c=1,a=0;for(this[t+i]=255&e;--i>=0&&(c*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/c>>0)-a&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return P(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return P(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,o){if(n||(n=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);var r,c=o-n;if(this===e&&n<t&&t<o)for(r=c-1;r>=0;--r)e[r+t]=this[r+n];else if(c<1e3||!i.TYPED_ARRAY_SUPPORT)for(r=0;r<c;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+c),t);return c},i.prototype.fill=function(e,t,n,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!i.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var c;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(c=t;c<n;++c)this[c]=e;else{var a=i.isBuffer(e)?e:M(new i(e,o).toString()),s=a.length;for(c=0;c<n-t;++c)this[c+t]=a[c%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g}).call(this,n("pCvA"))},vxcJ:function(e,t,n){(function(t){var o;e.exports=(o=o||function(e,o){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==t&&t.crypto&&(r=t.crypto),!r)try{r=n(0)}catch(e){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},s=a.lib={},l=s.Base={extend:function(e){var t=c(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=o?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,o=this.sigBytes,r=e.sigBytes;if(this.clamp(),o%4)for(var i=0;i<r;i++)t[o+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(o+i)%4*8;else for(var c=0;c<r;c+=4)t[o+c>>>2]=n[c>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new u.init(t,e)}}),f=a.enc={},d=f.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],r=0;r<n;r++){var i=t[r>>>2]>>>24-r%4*8&255;o.push((i>>>4).toString(16)),o.push((15&i).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o+=2)n[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new u.init(n,t/2)}},h=f.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],r=0;r<n;r++)o.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new u.init(n,t)}},g=f.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=g.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,o=this._data,r=o.words,i=o.sigBytes,c=this.blockSize,a=i/(4*c),s=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*c,l=e.min(4*s,i);if(s){for(var f=0;f<s;f+=c)this._doProcessBlock(r,f);n=r.splice(0,s),o.sigBytes-=l}return new u.init(n,l)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),b=(s.Hasher=p.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new b.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math),o)}).call(this,n("pCvA"))},wEHB:function(e,t,n){"use strict";(function(e,o){function r(e,t){for(const n of e){if(n[a.Hh]===a.ke&&!t.some((e=>e[a.Pe]===n[a.Pe])))return!0;if(n[a.pd]&&Object(s.bc)(n[a.pd])){const e=r(n[a.pd],t);if(e)return e}}}n.d(t,"a",(function(){return E}));var i=n("8Jek"),c=n.n(i),a=n("CmOr"),s=n("S3S6"),l=n("6Xce"),u=n("folm"),f=n("7wmn"),d=n("tANj"),h=n("fSJr"),g=n("nzdp"),p=n("uXW1"),b=n("C9kS"),m=n("NGVL"),v=n("rfoC"),y=n("PKZ/"),C=n("ElAP"),_=n("2tLp"),O=n("QRet"),j=n("5GD2"),w=n("aZW+"),k=n("6v9m"),x=n("iJbY"),S=n("+v3W");const E=({exportStart:t,showExpiryModal:n,onCodeRegen:i})=>{var E,R,B,N,I;const[P,L]=Object(w.c)(k.lc,!1),[M,A]=Object(w.c)(k.Y),[H]=Object(w.c)(k.Ob),[D,F]=Object(O.k)(!0),[U,W]=Object(O.k)(void 0),[z]=Object(w.c)(k.zc),[Y]=Object(w.c)(k.uc),[Z,V]=Object(O.k)([]),[G]=Object(w.c)(k.mc,[]),[X]=Object(w.c)(k.W,[]),[,J]=Object(w.c)(k.xb),[K]=Object(w.c)(k.hc,""),[$]=Object(w.c)(k.ic,""),[Q]=Object(w.c)(k.jc),[q,ee]=Object(O.k)(),[te]=Object(w.c)(k.M,{}),[ne,oe]=Object(O.k)(!1),[re,ie]=Object(w.c)(k.Jb,[]),[ce,ae]=Object(O.k)(""),[se,le]=Object(O.k)(0),[ue,fe]=Object(O.k)(0),[de,he]=Object(O.k)(0),[ge,pe]=Object(O.k)(0),[be]=Object(w.c)(k.T),[me]=Object(w.c)(k.Pb),[ve,ye]=Object(w.c)(k.yc,"screen_component"),[,Ce]=Object(w.c)(k.O,a.A),[,_e]=Object(w.c)(k.Db,!1),[,Oe]=Object(w.c)(k.wb,!1),[,je]=Object(w.c)(k.fb),[we,ke]=Object(w.c)(k.Gb,!1),[xe,Se]=Object(w.c)(k.v),[Ee,Te]=Object(O.k)(null),[Re,Be]=Object(O.k)(null),[Ne,Ie]=Object(O.k)(!1),[Pe,Le]=Object(w.c)(k.cb,[]),[Me,Ae]=Object(w.c)(k.cc,""),[He,De]=Object(O.k)(-1),[Fe,Ue]=Object(O.k)(!1),[We,ze]=Object(w.c)(k.X,!1),Ye=me||(null===(E=G[z])||void 0===E?void 0:E.value),Ze=me||(null===(R=G[z])||void 0===R?void 0:R.title),Ve=H||(null===(B=X[Y])||void 0===B?void 0:B.value)||"main",[Ge]=Object(O.k)(Ye),[Xe]=Object(O.k)(Ze),[Je]=Object(O.k)(Ve),[Ke,$e]=Object(O.k)(!1),[Qe,qe]=Object(O.k)(!1),[,et]=Object(w.c)(k.u,[]),[,tt]=Object(w.c)(k.w,[]),[,nt]=Object(w.c)(k.V),[ot,rt]=Object(O.k)([]),[it,ct]=Object(O.k)([]),[,at]=Object(w.c)(k.x),[st,lt]=Object(O.k)({type:"directory",name:"/",children:[]}),ut=Object(O.j)(0),ft=Object(O.j)(!1);Object(O.d)((()=>{if(X&&X.length){const e=[];X.forEach(((t,n)=>{(n!==Y||H)&&e.push(t)})),V([...e])}}),[X,H,Y]),Object(O.d)((()=>{const e=r(st[a.pd],Pe);oe(e)}),[st,Pe]),Object(O.d)((()=>{let e=0,t=Pe.filter((e=>e[a.Hh]===a.ke)).map((e=>[e[a.Pe],!0]));t.length&&(t=Object.fromEntries(t)),re.forEach((n=>{var o;null!==(o=t)&&void 0!==o&&o[null==n?void 0:n[a.Pe]]||null==n||!n.is_conflict||(e+=1)})),pe(e)}),[re,Pe]),Object(O.d)((()=>{ye("screen_component"),Ce(a.A),_e(!1),L(!1),ke(!1),Le([])}),[]);const dt=Object(O.a)((e=>{e.forEach((e=>{const t=`${null==e?void 0:e.id}${a.q}`,n=e.file_path,o=n.lastIndexOf("/"),r=n.substring(o+1),i=n.substring(0,o),c={[a.Pe]:t,[a.Pf]:r,[a.Hh]:a.ke,[a.Rd]:!0,[a.pd]:[]};st&&Object(l.a)(st,i,c,!0)}))}),[st]),ht=Object(O.a)((e=>{let t=0;return e.forEach((e=>{const n=`${null==e?void 0:e.id}${a.q}`,o=e.old_file_path,r=o.lastIndexOf("/"),i=o.substring(r+1),c=o.substring(0,r),s={[a.Pe]:n,[a.Pf]:i,[a.Hh]:"file",deleted:!0,children:[]};st&&Object(l.a)(st,c,s,!0)&&(t+=1)})),t}),[st]),gt=Object(O.a)((()=>{const e={repo_name:Ge,branch_name:H?Me:Je,project_id:K};Object(C.P)(e).then((e=>{const t=(null==e?void 0:e.data)&&Object(_.c)(e.data);t&&(W(t),$e(!0))})).catch((()=>{}))}),[Me,Je,H,K,Ge]);Object(O.d)((()=>()=>ie([])),[ie]),Object(O.d)((()=>{const e=U&&U.children;(ue||de||se)&&e&&e.length?ae(a.Dc[1]):e&&e.length&&ae(a.Dc[0])}),[se,U,ue,de]);const pt=Object(O.a)((async e=>{let t=!1,n="";const o=await Object(y.b)((null==e?void 0:e[a.Kf])||"",(null==e?void 0:e[a.If])||"",(null==e?void 0:e[a.Jf])||"",null==e?void 0:e.locofy_file_v2);return"object"==typeof o&&(t=o.some((e=>e.isConflict)),n=Object(y.a)(o)),{isConflict:t,conflicts:o,[a.rd]:n}}),[]),bt=Object(O.a)((()=>{fe(0),le(0),he(0),ie([]),F(!1)}),[ie]),mt=Object(O.a)((()=>{Object(_.b)(st[a.pd]).then((e=>{const t=e.filter((e=>!e.deleted)).map((e=>({path:e.path,sha:e.sha,check_sum:e.check_sum}))),n={repo_name:Ge,branch_name:H?Me:Je,project_id:K,tree:JSON.stringify(t)};Object(C.nb)(n).then((t=>{delete n[a.Dh];const o=null==t?void 0:t.data;let r=0;r=(null==o?void 0:o.count_modify)||0,he((null==o?void 0:o.untracked_file)||0),rt((null==o?void 0:o.deleted_list)||[]);const i=((null==o?void 0:o.deleted_file)||0)+ct((null==o?void 0:o.renaming_list)||[]);if(le(i),null!=o&&o.merged_file_path){const t=o.merged_file_path.reduce(((e,t)=>(t[a.Pe]&&!e[t[a.Pe]]&&(e[t[a.Pe]]=t),e)),{}),i=Object.values(t),c=i.filter((e=>e.merge&&e.modified&&!e.untracked)),l=(i.filter((e=>e.untracked))||[]).map((e=>T(st[a.pd],e[a.Pe]))),u=i.filter((e=>e.locofy_v1_sha===e.locofy_v2_sha&&e.locofy_v1_sha!==e.github_sha)).map((e=>e.github_path)),f=c.map((e=>e.github_path)),d=[...u,...f];n[a.me]=[...new Set(d)],Object(C.db)(n).then((t=>{const f=(null==t?void 0:t.data)||[];u.forEach((async e=>{const t=f.find((t=>t.path===e));if(null!=t&&t.path){const n=(null==t?void 0:t.content)||"",o=i.findIndex((t=>t.github_path===e));if(-1!=o){const e=i[o];e[a.rd]=n,e[a.sd]=Object(_.a)(n)}}})),null!=c&&c.length?(n[a.me]=c.map((e=>e.locofy_file_v1)),Object(C.Ab)(n).then((t=>{const n=(null==t?void 0:t.data)||[],o=[],u=[...l];let d=0;c.forEach((async t=>{const c=e.find((e=>e.path===t.locofy_file_v2));if(c&&c.path){const e=c[a.Ed],n=(c.path||"").split(".").pop();t[a.Kf]=["html","tsx","js","ts"].includes(n)?Object(s.R)(e,n):e}const l=n.find((e=>e.path===t.locofy_file_v1));if(null!=l&&l.path){t[a.Jf]=null==l?void 0:l.content}const h=f.find((e=>e.path===t.github_path));if(null!=h&&h.path){t[a.If]=null==h?void 0:h.content}const g=await pt(t),p=g.isConflict;t[a.pf]=p,!p&&null!=g&&g[a.rd]&&(t[a.rd]=g[a.rd],t[a.sd]=Object(_.a)(g[a.rd])),p&&(t[a.Cd]=g.conflicts);const b=T(st[a.pd],t[a.Pe]);p&&(d+=1,pe(d),fe(r-d),o.push(b),tt(o));const m=i.findIndex((e=>e.path===t.locofy_file_v2));-1!=m&&(i[m]=t),(p||t.untracked||t.modified)&&(u.push(b),et(u))})),fe(r-d),ie(i),setTimeout((()=>{qe(!0),F(!1)}),100)}))):((null==o?void 0:o.merged_file_path)&&ie(i),fe(r),pe(0),tt([]),et([]),setTimeout((()=>{qe(!0),F(!1)}),100))}))}else bt()})).catch((()=>{}))}))}),[st,Ge,H,Me,Je,K,ie,pt,tt,et,bt]),vt=Q.isExpo,yt=(null==Q?void 0:Q.appName)||(null==Q?void 0:Q.projectName)||"",Ct=(null==Q?void 0:Q.packageName)||"",_t=null==Q?void 0:Q[a.lc],Ot=null==Q?void 0:Q.appIcon,jt=Object(O.a)(((e,t)=>{e.children.forEach((e=>{let n=Object(l.j)(e).replace("/","");""!==n&&(n+="/");const o=`${n}${e[a.Pf]}`;e[a.Hh]===a.Wd&&e[a.pd].length?jt(e,t):e[a.Fd]||!t[o]||e[a.de]||(e[a.Fd]=t[o])}))}),[]);Object(O.d)((()=>{(async()=>{var e;F(!0);const t=null==te||null===(e=te[a.sc])||void 0===e?void 0:e[a.Xd];if(t){te.pages.forEach((e=>Object(s.S)(e,Object(w.a)(k.jc))));const e=Object(l.c)(t);if(_t===a.Gb){let t=a.Ic;q?t=q:(t=await Object(l.m)(vt?f.a:f.b,vt,yt,Ct,Ot),ee(t)),jt(e,t)}setTimeout((()=>{lt(e),qe(!1),ut.current++}),10)}})()}),[te]),Object(O.d)((()=>{!Qe&&st&&Object(s.bc)(st[a.pd])&&mt()}),[st,Qe]),Object(O.d)((()=>{ot&&null!=ot&&ot.length?(le(ot.length),dt(ot)):le(0),it&&null!=it&&it.length&&ht(it)}),[ot,dt,ht,it]),Object(O.d)((()=>{gt()}),[]),Object(O.d)((()=>{var e;Ke&&Qe&&!ft.current&&(Object(m.N)(null!=U&&null!==(e=U.children)&&void 0!==e&&e.length?"exist":"empty",de,se,ge,ue),ft.current=!0)}),[Ke,Qe,null==U||null===(N=U.children)||void 0===N?void 0:N.length,de,se,ge,ue]);const wt=Object(O.a)((()=>{J(!1)}),[J]),kt=Object(O.a)((e=>{const t={project_id:K,repo_name:me};Object(C.eb)(t).then((t=>{e(null==t?void 0:t.data)})).catch((()=>{J(!1),A({[x.d]:1}),Oe(!0)}))}),[me,K,A,J,Oe]),xt=Object(O.a)((e=>{var t;we&&-1===He?Ue(!0):(je(!0),at("reviewFiles"!==e),Object(m.O)(null!=U&&null!==(t=U.children)&&void 0!==t&&t.length?"exist":"empty",de,se,ge,ue))}),[we,He,je,null==U||null===(I=U.children)||void 0===I?void 0:I.length,de,se,ge,ue,at]),St=Object(O.a)((()=>{var e;if(we&&-1===He)return void Ue(!0);if(be<1){let e="";return e="builder_deploy_expiry_popup",void n(e)}let o=te.pages;o=Object(s.Xc)(o);const r=me;L(!0),o.forEach((e=>Object(s.S)(e,Q))),Object(u.x)(a.ee,st),r?kt((e=>{t(o,ve,null==e?void 0:e.name)})):t(o,ve,Ge),Object(m.O)(null!=U&&null!==(e=U.children)&&void 0!==e&&e.length?"exist":"empty",de,se,ge,ue),Oe(!1)}),[we,He,be,te.pages,me,L,U,de,se,ge,ue,Oe,n,kt,t,ve,Ge,st,Q]),Et=Object(O.a)(((e,t)=>{De(t),Ae(e),Ue(!1)}),[Ae]),Tt=Object(O.a)((()=>{ze(!We),nt(!0)}),[nt,We,ze]);return e(o,null,e("div",{class:S.a.exportModalHeader},e("div",{class:S.a.headerLeft},e(v.c,{src:"/assets/studio/loco-to-github.svg"}),e("div",{class:S.a.headerTitle},e("p",{class:S.a.title},"Review your file structure"),e("p",null,"Edit your Locofy structure to match the Github structure"))),e("div",{class:S.a.headerRight},e(v.a,{h:!0,vc:!0},e("div",{className:S.a.repoInfoText},"Repository ",e("span",{className:S.a.repoInfoSpanText},Xe)," ",e("span",{className:S.a.repoInfoSpanText},"/")," Branch"," ",e("span",{className:S.a.repoInfoSpanText},Je)),e("div",{onClick:()=>{wt()},className:S.a.editText},"Edit")),e("button",{class:S.a.closeExport,onClick:wt},e(v.c,{src:"/assets/studio/close-modal-blue.svg"})))),e("div",{className:S.a.githubContainer},e("div",{className:S.a.window},e("div",{className:S.a.header},e(v.a,{inlineFlex:!0,vc:!0},e(v.c,{src:"/assets/studio/github.svg"}),"Github / ",e("span",null,Xe)," - Remote"),e(v.a,{className:S.a.headerTag},e(v.e,null,"Read-only"))),e("div",{className:S.a.windowBody},D&&e(v.a,{class:S.a.loadingContainer},e(b.a,{style:"width: 32px; height: 32px;"}),e(v.e,{color:"#96A2BE",fs:12,mt:8},ut.current>1?"Refactoring code...":"Loading...")),!D&&e(o,null,U&&U.children&&U.children.length?e(j.a,{heading:"Explorer",data:U,children:U.children,defaultExpand:!0}):e("p",{className:S.a.emptyMessage},"No files to show for now :) ",e("br",null)," You are pushing to Github for the first time.")))),e("div",{className:S.a.window},e("div",{className:S.a.header},e(v.a,{inlineFlex:!0,vc:!0},e(v.c,{src:"/assets/studio/locofy.svg"}),"Locofy / ",e("span",null,$)," - Current"),e(v.a,{h:!0},e(v.e,{className:S.a.commitHistoryText,onClick:Tt},"View commit history"))),e("div",{className:c()(S.a.windowBody,{[S.a.bottomBar]:U&&U.children&&U.children.length&&!0})},D&&e(v.a,{class:S.a.loadingContainer},e(b.a,{style:"width: 32px; height: 32px;"}),e(v.e,{color:"#96A2BE",fs:12,mt:8},ut.current>1?"Refactoring code...":"Loading...")),e(j.a,{heading:"Explorer",data:st,children:null==st?void 0:st[a.pd],currentDirectory:Ee,setCurrentDirectory:Te,editingFileItem:Re,setEditingFileItem:Be,addFolderMode:Ne,setAddFolderMode:Ie,uncheckedItems:Pe,setUncheckedItems:Le,isCheckable:!0,defaultExpand:!0,onCodeRegen:()=>{i()},mergeCompare:U&&U[a.pd]&&U[a.pd].length>0}),U&&U[a.pd]&&U[a.pd].length&&e("div",{className:S.a.windowFooter},e(p.a,{placement:"top",content:e(o,null,e(v.a,{class:S.a.legendRow},e(v.a,{class:c()(S.a.legendCircle,S.a.untracked)}),e(v.a,{fs:12,lineHeight:"13px"},"- Untracked files")),e(v.a,{class:S.a.legendRow},e(v.a,{class:c()(S.a.legendCircle,S.a.modified)}),e(v.a,{fs:12,lineHeight:"13px"},"- Modified files")),e(v.a,{class:S.a.legendRow},e(v.a,{class:c()(S.a.legendCircle,S.a.deleted)}),e(v.a,{fs:12,lineHeight:"13px"},"- Deleted files")),e(v.a,{class:S.a.legendRow},e(v.a,{class:c()(S.a.legendCircle,S.a.conflict)}),e(v.a,{fs:12,lineHeight:"13px"},"- Conflict in files")),e(v.a,{class:S.a.legendRow},e(v.a,{class:c()(S.a.legendCircle,S.a.mixed)}),e(v.a,{fs:12,lineHeight:"13px"},"- Multiple changes in files"))),className:S.a.legendsTooltip},e(v.a,{h:!0,vc:!0,class:S.a.changes},e("div",{class:S.a.circleChanges})," - With Changes"))," ",e("span",{className:c()({[S.a.update]:!0,[S.a.bold]:!0})},"U"),e("span",{className:c()(S.a.legendText,{[S.a.update]:de})}," ","- Untracked (",de,")"," "),e("span",{className:c()({[S.a.modified]:!0,[S.a.bold]:!0})},"M")," ",e("span",{className:c()(S.a.legendText,{[S.a.modified]:ue})}," ","- Modified (",ue,")"," "),e("span",{className:c()({[S.a.delete]:!0,[S.a.bold]:!0})},"D"),e("span",{className:c()(S.a.legendText,{[S.a.delete]:se})}," ","- Deleted (",se,")"," "),e("span",{className:c()({[S.a.conflict]:!0,[S.a.bold]:!0})},"C"),e("span",{className:c()(S.a.legendText,{[S.a.conflict]:ge})}," ","- Conflict (",ge,")"))))),e(v.a,{className:S.a.footer},e(v.a,{inlineFlex:!0,vc:!0,mb:20},null!=M&&M.hasBranches&&Z.length?e(v.a,{inlineFlex:!0,vc:!0,className:c()({[S.a.prCheckMain]:!0,[S.a.prChecked]:!we})},e(v.a,{minW:145},e(d.a,{className:S.a.prCheck,checked:we,label:"Create a pull request",onChange:()=>{Ae(""),De(-1),ke(!we)},dark:!0})),we&&e(v.a,{relative:!0},e(h.a,{placeholderItem:{value:"Choose base branch"},placeholderClass:c()(S.a.dropdownPlaceholder,{[S.a.seletedItem]:He>=0}),items:Z,onItemSelect:(e,t)=>Et(e,t,!1),selectedIndex:He,className:S.a.dropdownContainer,selectClass:S.a.dropdownInput,popupMaxH:120,autoComplete:!0,noSelectionOnType:!0}),Fe&&e(v.a,{absB:-22,className:S.a.errorTextContainer},e(v.c,{src:"/assets/studio/icon/icon_info_red.svg",mr:"5px",mt:"1px"}),e("div",{className:S.a.errorText},"Please choose a base branch")))):null,e(g.a,{placeholder:"Enter your commit message (Optional)",value:xe,onChange:e=>{Se(e.target.value)},className:S.a.inputGithub})),e(v.a,{className:S.a.footerSub},!D&&ce?e("p",null,e(v.c,{src:"/assets/studio/icon/protip.svg"}),e("b",null,"Pro tip"),": ",ce):e("div",null),e("div",null,ge?e("button",{className:c()(S.a.btn,S.a.conflictBtn),onClick:()=>{Object(u.x)(a.ee,st),xt("resolveConflicts")}},e(v.c,{src:"/assets/studio/resolve-conflicts.svg"}),"Resolve Conflicts"):e(v.a,{inlineFlex:!0},e(v.a,{mr:10},e("button",{disabled:D||!ne,className:c()(S.a.btn,S.a.conflictBtn,{[S.a.disabled]:D||!ne}),onClick:()=>{Object(u.x)(a.ee,st),xt("reviewFiles")}},e(v.c,{src:"/assets/studio/resolve-conflicts.svg"}),"Review files")),e("button",{disabled:D||!ne,className:c()(S.a.btn,S.a.deployBtn,{[S.a.disabled]:D||!ne}),onClick:St},P?e("div",{className:S.a.whiteLoading},e(b.a,{style:"width: 20px; height: 20px;"})):e(o,null,e(v.c,{src:"/assets/studio/github-push.svg"}),"Push to Github")))))))},T=(e,t)=>{for(let n=0;n<Object(s.bc)(e);n++){if(e[n][a.Pe]===t)return e[n];if(e[n][a.pd]&&Object(s.bc)(e[n][a.pd])){const o=T(e[n][a.pd],t);if(o)return o}}}}).call(this,n("hosL").h,n("hosL").Fragment)}}]);
//# sourceMappingURL=12.chunk.9deb6.esm.js.map